<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>调试工具: Charles | 曜灵（SUN）Site</title><meta name=keywords content="工具"><meta name=description content="作为开发者或测试工程师，抓包调试是日常工作中不可或缺的一环&mldr;"><meta name=author content="曜灵"><link rel=canonical href=https://lianpf.github.io/posts/other/tools-debug-charles/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://lianpf.github.io/img-common/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://lianpf.github.io/img-common/favicon.png><link rel=icon type=image/png sizes=32x32 href=https://lianpf.github.io/img-common/favicon.png><link rel=apple-touch-icon href=https://lianpf.github.io/img-common/avatar.jpeg><link rel=mask-icon href=https://lianpf.github.io/img-common/avatar.jpeg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script defer src=https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js></script>
<script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><style>.fa-commenting-o,#post_meta_style_8,#comment_count,.comment-count,.comment-icon,svg[class*=comment],a[aria-label*=comment]{display:none!important}</style><meta property="og:title" content="调试工具: Charles"><meta property="og:description" content="作为开发者或测试工程师，抓包调试是日常工作中不可或缺的一环&mldr;"><meta property="og:type" content="article"><meta property="og:url" content="https://lianpf.github.io/posts/other/tools-debug-charles/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-01-09T15:19:47+08:00"><meta property="article:modified_time" content="2025-09-09T15:19:47+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="调试工具: Charles"><meta name=twitter:description content="作为开发者或测试工程师，抓包调试是日常工作中不可或缺的一环&mldr;"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"📚文章","item":"https://lianpf.github.io/posts/"},{"@type":"ListItem","position":2,"name":"📚 其他","item":"https://lianpf.github.io/posts/other/"},{"@type":"ListItem","position":3,"name":"调试工具: Charles","item":"https://lianpf.github.io/posts/other/tools-debug-charles/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"调试工具: Charles","name":"调试工具: Charles","description":"作为开发者或测试工程师，抓包调试是日常工作中不可或缺的一环\u0026hellip;\n","keywords":["工具"],"articleBody":"作为开发者或测试工程师，抓包调试是日常工作中不可或缺的一环…\n【重新整理】本文以 Charles 为例，介绍强大的代理工具，如何帮助我们轻松查看、分析和修改网络请求。\n一、Charles 背景：用 Charles 调试 iOS 测试机，并详细介绍 HTTP 和 HTTPS 两种协议的配置方法。\n1.准备工作 开始前，请确保以下两点：\n电脑（macOS 或 Windows）已安装并运行 Charles。 iOS 设备（iPhone 或 iPad）和电脑连接在 同一个 Wi-Fi 网络。 第一步：电脑端配置 Charles\n首先，需要 配置 Charles 允许外部设备连接。\ni. 确认端口号： 打开 Charles，点击菜单栏的 Proxy \u003e Proxy Settings…。在 Proxies 标签下，确认 HTTP Proxy Port 为 8888。这是 Charles 默认的代理端口，你可以根据需要修改。 ii. 获取本机 IP： 点击菜单栏的 Help \u003e Local IP Addresses…。你会看到一个弹窗，其中列出了你电脑在当前网络中的所有 IP 地址。找到你的 Wi-Fi IP 地址，例如 192.168.1.100。稍后在手机上设置代理时会用到这个 IP。 iii. 允许外部连接： 当你的 iOS 设备第一次尝试通过 Charles 代理连接时，Charles 会弹出防火墙提示。请务必点击 Allow 允许连接，否则手机无法通过代理上网。 第二步：iOS 测试机配置\n接下来，需要 在iPhone或iPad上设置代理。\n2. HTTP 协议配置 对于 HTTP 请求，配置非常简单，只需设置代理即可。\ni. 打开 iPhone 的 设置 \u003e 无线局域网（Wi-Fi）。 ii. 点击你当前连接的 Wi-Fi 名称旁边的 蓝色 “i” 图标。 iii. 滚动到底部，找到 “HTTP 代理” 选项。 iv. 选择 “手动”，然后在 “服务器” 栏填入你电脑的 IP 地址，在 “端口” 栏填入 8888。 完成以上设置后，你的 iPhone 所有 HTTP 请求都会通过 Charles，可以在 Charles 界面看到请求的详细信息。\n3. HTTPS 协议配置 因为加密机制，HTTPS协议需要 额外安装并信任 Charles 的 SSL 证书 才能抓包。\ni.保持代理设置： 请确保你已经完成了上述 HTTP 代理的配置。\nii. 电脑安装证书：Help -\u003e SSL Proxying -\u003e Install Charles Root Certificate\niii. 下载并安装证书： 在 iPhone 上，打开 Safari 浏览器，输入网址 chls.pro/ssl 并回车。Safari 会提示你下载一个描述文件，点击 “允许”。\n（配图：手机上 Safari 弹窗，提示下载描述文件）\niv. 安装描述文件： 下载完成后，进入 iPhone 的 设置 \u003e 通用 \u003e VPN 与设备管理。你会看到一个已下载的描述文件，名称为 “Charles Proxy SSL Proxying”。点击它，然后点击右上角的 “安装”。\nv. 信任证书： 证书安装后还不能立即使用。回到 设置 \u003e 通用 \u003e 关于本机，滚动到最底部，点击 “证书信任设置”。在列表中找到 “Charles Proxy CA”，打开其旁边的开关，系统会弹窗提示，点击 “继续” 即可。\n（配图：证书信任设置界面，Charles Proxy 开关已打开）\n至此，所有配置工作都已完成。你的 iOS 设备现在可以正常通过 Charles 代理抓取和分析 HTTPS 请求了。\n常见问题 配置后手机无法上网？\n检查你的电脑和手机是否在同一个 Wi-Fi 网络下。 检查 Charles 客户端是否正在运行，如果 Charles 关闭，代理将失效。 确保电脑防火墙没有阻止 Charles 的连接。 部分应用无法抓取 HTTPS 请求？\n一些应用为了提高安全性，会使用 SSL Pinning 技术。这意味着应用会自己验证服务器证书，忽略系统代理设置。遇到这种情况，你需要使用其他专门的工具或方法来绕过 SSL Pinning。 参考 花瓶抓包charles实现抓http和https包的配置过程 | CSDN 最后， 希望大家早日实现：成为编程高手的伟大梦想！ 欢迎交流~\n本文版权归原作者曜灵所有！未经允许，严禁转载！对非法转载者, 原作者保留采用法律手段追究的权利！ 若需转载，请联系微信公众号：连先生有猫病，可获取作者联系方式！\n","wordCount":"1411","inLanguage":"zh","datePublished":"2025-01-09T15:19:47+08:00","dateModified":"2025-09-09T15:19:47+08:00","author":[{"@type":"Person","name":"曜灵"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://lianpf.github.io/posts/other/tools-debug-charles/"},"publisher":{"@type":"Organization","name":"曜灵（SUN）Site","logo":{"@type":"ImageObject","url":"https://lianpf.github.io/img-common/favicon.png"}}}</script></head><body id=top><script>(function(){let e,t=new RegExp("(^| )change-themes=([^;]*)(;|$)");(e=document.cookie.match(t))||((new Date).getHours()>=19||(new Date).getHours()<6?(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")))})(),localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://lianpf.github.io/ accesskey=h title="曜灵（SUN）Site (Alt + H)"><img src=https://lianpf.github.io/img-common/avatar.jpeg alt=logo aria-label=logo height=35>曜灵（SUN）Site</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://lianpf.github.io/search title="🔍 搜索 (Alt + /)" accesskey=/><span>🔍 搜索</span></a></li><li><a href=https://lianpf.github.io/ title="🏠 主页"><span>🏠 主页</span></a></li><li><a href=https://lianpf.github.io/archives/ title="⏱️ 归档"><span>⏱️ 归档</span></a></li><li><a href=https://lianpf.github.io/tags title="🧩 标签"><span>🧩 标签</span></a></li><li><a href=https://lianpf.github.io/about title="🙋🏻‍♂️ 关于"><span>🙋🏻‍♂️ 关于</span></a></li></ul></nav></header><main class="main page"><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}</style><article class=post-single><div id=single-content><header class=post-header><div class=breadcrumbs><a href=https://lianpf.github.io/>🏠 主页</a>&nbsp;»&nbsp;<a href=https://lianpf.github.io/posts/>📚文章</a>&nbsp;»&nbsp;<a href=https://lianpf.github.io/posts/other/>📚 其他</a></div><h1 class=post-title>调试工具: Charles</h1><div class=post-meta><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}.parent-post-meta{display:flex;flex-wrap:wrap;opacity:.8}</style><span class=parent-post-meta><span id=post_meta_style_1><span class="fa fa-calendar-check-o"></span>
<span>&nbsp;创建&nbsp;2025-01-09
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_2><span class="fa fa-calendar-plus-o"></span>
<span>&nbsp;更新&nbsp;2025-09-09
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_5><span class="fa fa-user-o"></span>
<span>曜灵
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_6><span class="fa fa-tags" style=opacity:.8></span>
<span><span class=post-tags-meta><a href=https://lianpf.github.io/tags/%E5%B7%A5%E5%85%B7/ style=color:var(--secondary)!important>工具</a></span></span></span></span>
<span style=opacity:.8><span id=post_meta_style_7>&nbsp;&nbsp;
<span class="fa fa-eye"></span>
<span><span id=busuanzi_container_page_pv><span id=busuanzi_value_page_pv></span></span>
&nbsp;&nbsp;</span></span></span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e4%b8%80charles aria-label=一、Charles>一、Charles</a><ul><li><a href=#1%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c aria-label=1.准备工作>1.准备工作</a></li><li><a href=#2-http-%e5%8d%8f%e8%ae%ae%e9%85%8d%e7%bd%ae aria-label="2. HTTP 协议配置">2. HTTP 协议配置</a></li><li><a href=#3-https-%e5%8d%8f%e8%ae%ae%e9%85%8d%e7%bd%ae aria-label="3. HTTPS 协议配置">3. HTTPS 协议配置</a></li></ul></li><li><a href=#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98 aria-label=常见问题>常见问题</a></li><li><a href=#%e5%8f%82%e8%80%83 aria-label=参考>参考</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{elements&&(activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>作为开发者或测试工程师，抓包调试是日常工作中不可或缺的一环&mldr;</p><p>【重新整理】本文以 <code>Charles</code> 为例，介绍强大的代理工具，如何帮助我们轻松查看、分析和修改网络请求。</p><hr><h2 id=一charles>一、Charles<a hidden class=anchor aria-hidden=true href=#一charles>#</a></h2><p>背景：用 <code>Charles</code> 调试 <code>iOS 测试机</code>，并详细介绍 <code>HTTP</code> 和 <code>HTTPS</code> 两种协议的配置方法。</p><h3 id=1准备工作>1.准备工作<a hidden class=anchor aria-hidden=true href=#1准备工作>#</a></h3><p>开始前，请确保以下两点：</p><ul><li>电脑（macOS 或 Windows）已安装并运行 <strong>Charles</strong>。</li><li><strong>iOS 设备</strong>（iPhone 或 iPad）和电脑连接在 <strong><font color=Tomato>同一个 Wi-Fi 网络</font></strong>。</li></ul><p><strong>第一步：电脑端配置 Charles</strong></p><p>首先，需要 <strong><font color=Tomato>配置 Charles 允许外部设备连接</font></strong>。</p><ul><li>i. <strong>确认端口号：</strong>
打开 Charles，点击菜单栏的 <strong>Proxy > Proxy Settings&mldr;</strong>。在 <code>Proxies</code> 标签下，确认 <code>HTTP Proxy Port</code> 为 <strong>8888</strong>。这是 Charles 默认的代理端口，你可以根据需要修改。</li><li>ii. <strong>获取本机 IP：</strong>
点击菜单栏的 <strong>Help > Local IP Addresses&mldr;</strong>。你会看到一个弹窗，其中列出了你电脑在当前网络中的所有 IP 地址。找到你的 Wi-Fi IP 地址，例如 <code>192.168.1.100</code>。稍后在手机上设置代理时会用到这个 IP。</li><li>iii. <strong>允许外部连接：</strong>
当你的 iOS 设备第一次尝试通过 Charles 代理连接时，Charles 会弹出防火墙提示。请务必点击 <strong>Allow</strong> 允许连接，否则手机无法通过代理上网。</li></ul><p><strong>第二步：iOS 测试机配置</strong></p><p>接下来，需要 <strong><font color=Tomato>在iPhone或iPad上设置代理</font></strong>。</p><h3 id=2-http-协议配置>2. HTTP 协议配置<a hidden class=anchor aria-hidden=true href=#2-http-协议配置>#</a></h3><p>对于 HTTP 请求，配置非常简单，只需设置代理即可。</p><ul><li>i. 打开 iPhone 的 <strong>设置 > 无线局域网（Wi-Fi）</strong>。</li><li>ii. 点击你当前连接的 Wi-Fi 名称旁边的 <strong>蓝色 &ldquo;i&rdquo; 图标</strong>。</li><li>iii. 滚动到底部，找到 <strong>“HTTP 代理”</strong> 选项。</li><li>iv. 选择 <strong>“手动”</strong>，然后在 <strong>“服务器”</strong> 栏填入你电脑的 IP 地址，在 <strong>“端口”</strong> 栏填入 <code>8888</code>。</li></ul><p>完成以上设置后，你的 iPhone 所有 HTTP 请求都会通过 Charles，可以在 Charles 界面看到请求的详细信息。</p><h3 id=3-https-协议配置>3. HTTPS 协议配置<a hidden class=anchor aria-hidden=true href=#3-https-协议配置>#</a></h3><p>因为加密机制，<code>HTTPS协议</code>需要 <strong><font color=Tomato>额外安装并信任 Charles 的 SSL 证书</font></strong> 才能抓包。</p><ul><li><p>i.<strong>保持代理设置：</strong> 请确保你已经完成了上述 HTTP 代理的配置。</p></li><li><p>ii. <strong>电脑安装证书</strong>：<code>Help -> SSL Proxying -> Install Charles Root Certificate</code></p></li><li><p>iii. <strong>下载并安装证书：</strong>
在 iPhone 上，打开 <strong>Safari 浏览器</strong>，输入网址 <code>chls.pro/ssl</code> 并回车。Safari 会提示你下载一个描述文件，点击 <strong>“允许”</strong>。</p><p><em>（配图：手机上 Safari 弹窗，提示下载描述文件）</em></p></li><li><p>iv. <strong>安装描述文件：</strong>
下载完成后，进入 iPhone 的 <strong>设置 > 通用 > VPN 与设备管理</strong>。你会看到一个已下载的描述文件，名称为 <strong>“Charles Proxy SSL Proxying”</strong>。点击它，然后点击右上角的 <strong>“安装”</strong>。</p></li><li><p>v. <strong>信任证书：</strong>
证书安装后还不能立即使用。回到 <strong>设置 > 通用 > 关于本机</strong>，滚动到最底部，点击 <strong>“证书信任设置”</strong>。在列表中找到 <strong>“Charles Proxy CA”</strong>，打开其旁边的开关，系统会弹窗提示，点击 <strong>“继续”</strong> 即可。</p><p><em>（配图：证书信任设置界面，Charles Proxy 开关已打开）</em></p></li></ul><p>至此，所有配置工作都已完成。你的 iOS 设备现在可以正常通过 Charles 代理抓取和分析 HTTPS 请求了。</p><hr><h2 id=常见问题>常见问题<a hidden class=anchor aria-hidden=true href=#常见问题>#</a></h2><ul><li><p><strong>配置后手机无法上网？</strong></p><ul><li>检查你的电脑和手机是否在同一个 Wi-Fi 网络下。</li><li>检查 Charles 客户端是否正在运行，如果 Charles 关闭，代理将失效。</li><li>确保电脑防火墙没有阻止 Charles 的连接。</li></ul></li><li><p><strong>部分应用无法抓取 HTTPS 请求？</strong></p><ul><li>一些应用为了提高安全性，会使用 <strong>SSL Pinning</strong> 技术。这意味着应用会自己验证服务器证书，忽略系统代理设置。遇到这种情况，你需要使用其他专门的工具或方法来绕过 SSL Pinning。</li></ul></li></ul><hr><h2 id=参考>参考<a hidden class=anchor aria-hidden=true href=#参考>#</a></h2><ul><li><a href=https://blog.csdn.net/weixin_55752391/article/details/137495958>花瓶抓包charles实现抓http和https包的配置过程 | CSDN</a></li></ul><hr><p><strong>最后， 希望大家早日实现：成为编程高手的伟大梦想！</strong><br><strong>欢迎交流~</strong></p><img src=/img-common/weChatPublic.jpg alt=微信公众号 width=600 height=286><p><strong>本文版权归原作者曜灵所有！未经允许，严禁转载！对非法转载者, 原作者保留采用法律手段追究的权利！</strong><br><strong>若需转载，请联系微信公众号：连先生有猫病，可获取作者联系方式！</strong></p></div><footer class=post-footer><nav class=paginav><a class=prev href=https://lianpf.github.io/posts/other/ai-llm-and-prompt/><span class=title>« 上一页</span><br><span>AI编程：LLM（大模型）和Prompt（提示词）工程</span></a>
<a class=next href=https://lianpf.github.io/posts/other/baby-safety-seat/><span class=title>下一页 »</span><br><span>宝宝：汽车儿童安全座椅</span></a></nav></footer></div></article></main><footer class=footer><span>Copyright
&copy;
2016-2025
<a href=https://lianpf.github.io/ style=color:#939393>曜灵（SUN）Site</a>.
基于 Hugo 引擎和 PaperMod 主题</span>
<a href=https://beian.miit.gov.cn/ target=_blank style=color:#939393></a>&nbsp;</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg><span id=read_progress></span></span></a>
<script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>let mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>200||document.documentElement.scrollTop>200?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{(function(){document.cookie="change-themes="+escape("false")})(),document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.body.addEventListener("copy",function(e){if(window.getSelection().toString()&&window.getSelection().toString().length>50){let t=e.clipboardData||window.clipboardData;if(t){e.preventDefault();let n=window.getSelection().toString()+`

————————————————
版权声明：本文为「曜灵（SUN）Site」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：`+location.href,s=window.getSelection().toString()+`

————————————————
版权声明：本文为「曜灵（SUN）Site」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：`+location.href;t.setData("text/html",n),t.setData("text/plain",s)}}})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="复制";function i(){t.innerText="已复制！",setTimeout(()=>{t.innerText="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){let t=e.textContent+`
————————————————
版权声明：本文为「曜灵（SUN）Site」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：`+location.href;navigator.clipboard.writeText(t),i();return}const n=document.createRange();n.selectNodeContents(e);const s=window.getSelection();s.removeAllRanges(),s.addRange(n);try{document.execCommand("copy"),i()}catch{}s.removeRange(n)});let l=e.className.replaceAll("language-",""),n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div");o.innerText=l,n.setAttribute("class","mac-tool"),a.setAttribute("class","mac bb1"),r.setAttribute("class","mac bb2"),c.setAttribute("class","mac bb3"),o.setAttribute("class","language-type"),n.appendChild(a),n.appendChild(r),n.appendChild(c),n.appendChild(o),s.classList.contains("highlight")?(s.appendChild(t),s.appendChild(n)):s.parentNode.firstChild==s||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?(e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t),s.appendChild(n)):(e.parentNode.appendChild(t),s.appendChild(n)))})</script></body></html>