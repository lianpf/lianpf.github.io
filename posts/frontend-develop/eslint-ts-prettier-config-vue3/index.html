<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Vue3技术栈：ESLint、TypeScript和Prettier配置 | 曜灵（SUN）Site</title><meta name=keywords content="Vue技术栈,ESLint,TS"><meta name=description content="前期规范主要针对Vue2的历史项目，近期对Vue3项目的规则做了统一梳理，具体如&mldr;"><meta name=author content="曜灵"><link rel=canonical href=https://lianpf.github.io/posts/frontend-develop/eslint-ts-prettier-config-vue3/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://lianpf.github.io/img-common/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://lianpf.github.io/img-common/favicon.png><link rel=icon type=image/png sizes=32x32 href=https://lianpf.github.io/img-common/favicon.png><link rel=apple-touch-icon href=https://lianpf.github.io/img-common/avatar.jpeg><link rel=mask-icon href=https://lianpf.github.io/img-common/avatar.jpeg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script defer src=https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js></script>
<script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><style>.fa-commenting-o,#post_meta_style_8,#comment_count,.comment-count,.comment-icon,svg[class*=comment],a[aria-label*=comment]{display:none!important}</style><meta property="og:title" content="Vue3技术栈：ESLint、TypeScript和Prettier配置"><meta property="og:description" content="前期规范主要针对Vue2的历史项目，近期对Vue3项目的规则做了统一梳理，具体如&mldr;"><meta property="og:type" content="article"><meta property="og:url" content="https://lianpf.github.io/posts/frontend-develop/eslint-ts-prettier-config-vue3/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-08-04T20:19:23+08:00"><meta property="article:modified_time" content="2024-08-06T23:19:23+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Vue3技术栈：ESLint、TypeScript和Prettier配置"><meta name=twitter:description content="前期规范主要针对Vue2的历史项目，近期对Vue3项目的规则做了统一梳理，具体如&mldr;"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"📚文章","item":"https://lianpf.github.io/posts/"},{"@type":"ListItem","position":2,"name":"👨🏻‍💻 前端","item":"https://lianpf.github.io/posts/frontend-develop/"},{"@type":"ListItem","position":3,"name":"Vue3技术栈：ESLint、TypeScript和Prettier配置","item":"https://lianpf.github.io/posts/frontend-develop/eslint-ts-prettier-config-vue3/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Vue3技术栈：ESLint、TypeScript和Prettier配置","name":"Vue3技术栈：ESLint、TypeScript和Prettier配置","description":"前期规范主要针对Vue2的历史项目，近期对Vue3项目的规则做了统一梳理，具体如\u0026hellip;\n","keywords":["Vue技术栈","ESLint","TS"],"articleBody":"前期规范主要针对Vue2的历史项目，近期对Vue3项目的规则做了统一梳理，具体如…\n系列文章：\n第一篇：Vue3技术栈：ESLint、TypeScript和Prettier配置 第二篇：ESLint: 构建适配Vue3配置的公共Package 前置背景 1.适用范围 主要针对：Vue3技术栈及相关生态的代码规则配置，其中 Node 版本大于18，且ESLint 版本大于8。\npackage.json配置如下：\n{ \"engines\": { \"node\": \"\u003e=18\" }, \"peerDependencies\": { \"eslint\": \"^8\" } } 2.Vue3项目创建 使用Vite初始化Vue3项目，更多参考 搭建Vite项目\n# npm 7+, 需要额外加 --: $ npm create vite@latest -- --template vue-ts 一、配置ESLint、TS 和 Prettier 1. 依赖安装 这里介绍两种安装依赖的方式，第一种是参考给出的package.json进行配置安装，第二种是按照命令，依次安装配置。\n1.1 按照package.json安装配置 参考以下package.json，在项目根目录执行：\n$ npm i package.json:\n{ \"name\": \"vue3-ts-eslint-h5\", \"private\": true, \"version\": \"0.0.0\", \"type\": \"module\", \"scripts\": { \"dev\": \"vite\", \"build\": \"vue-tsc -b \u0026\u0026 vite build\", \"lint\": \"eslint --ext .js,.vue,.ts src\", \"lint:fix\": \"eslint --ext .js,.vue,.ts src --fix\" }, \"engines\": { \"node\": \"\u003e=18\" }, \"peerDependencies\": { \"eslint\": \"^8\" }, \"dependencies\": { \"vue\": \"^3.4.29\", \"vite\": \"^5.3.1\", }, \"devDependencies\": { \"@typescript-eslint/eslint-plugin\": \"^7.14.1\", \"@typescript-eslint/parser\": \"^7.14.1\", \"@vitejs/plugin-vue\": \"^5.0.5\", // 无关 - 可注释 \"@vue/eslint-config-standard\": \"^8.0.1\", \"@vue/eslint-config-typescript\": \"^13.0.0\", \"eslint\": \"8.56.0\", \"eslint-config-airbnb-base\": \"15.0.0\", // js 相关 \"eslint-config-prettier\": \"9.1.0\", \"eslint-plugin-prettier\": \"5.1.3\", \"eslint-plugin-vue\": \"9.26.0\", \"eslint-plugin-import\": \"2.29.1\", // eslint-config-airbnb-base 前置插件 \"prettier\": \"^3.3.2\", \"typescript\": \"^5.2.2\", \"vue-tsc\": \"^2.0.21\", // 无关 - 可注释 \"lint-staged\": \"^9.1.0\", // 无关 - git commit 检测eslint机制 }, \"lint-staged\": { \"*.{js,ts,vue}\": [ \"eslint --fix\", \"git add\" ], \"src/**/*.{vue,css,sass,scss}\": [ \"stylelint --fix\", \"git add\" ] }, // 在.prettier配置，可代替此处配置 \"prettier\": { // ... } } 1.2 手动配置安装 手动添加ESLint和TypeScript支持：\nnpm install --save-dev eslint eslint-plugin-vue typescript @typescript-eslint/parser @typescript-eslint/eslint-plugin npx install-peerdeps --dev eslint-config-airbnb-base npm install --save-dev eslint-plugin-vue eslint-plugin-import 手动添加Prettier支持：\nnpm install --save-dev prettier eslint-config-prettier eslint-plugin-prettier 2. 配置ESLint、TS 和 Prettier 2.1 tsconfig.json 文件 确保项目根目录有tsconfig.json文件。以下是基本的TypeScript配置示例：\n{ \"extends\":\"./other_tsconfig/tsconfig.json\", \"compilerOptions\": { \"target\": \"esnext\", \"module\": \"esnext\", \"strict\": true, \"jsx\": \"preserve\", \"importHelpers\": true, \"moduleResolution\": \"node\", \"esModuleInterop\": true, \"allowSyntheticDefaultImports\": true, \"sourceMap\": true, \"baseUrl\": \".\", \"paths\": { \"@/*\": [\"src/*\"] }, \"lib\": [\"esnext\", \"dom\"]， // ---------------- 新增（待定）--------------- }, \"include\": [\"src/**/*.ts\", \"src/**/*.d.ts\", \"src/**/*.tsx\", \"src/**/*.vue\"], \"exclude\": [\"node_modules\"] } 2.2 .prettierrc 文件 在项目根目录创建.prettierrc文件：\n{ \"singleQuote\": true, \"tabWidth\": 2, \"semi\": false, \"eslintIntegration\": true, \"printWidth\": 120, \"endOfLine\": \"auto\", \"arrowParens\": \"always\", \"trailingComma\": \"none\", } 依赖.eslintrc.js中扩展Prettier配置：\n// ..., extends: [ // ... 'prettier', ], 2.3 .eslintrc.js 文件 在项目根目录下创建.eslintrc.js文件，并配置ESLint规则。以下是一个基本的配置示例：\nmodule.exports = { root: true, env: { node: true, browser: true, es6: true, }, globals: {}, plugins: ['@typescript-eslint', 'vue'], extends: [ 'airbnb-base', // js 'eslint:recommended', '@vue/typescript/recommended', // 启用 Vue + TypeScript 推荐的 ESLint 配置 'plugin:vue/vue3-recommended', // 启用 Vue 3 推荐的 ESLint 配置 'plugin:prettier/recommended', // 确保 Prettier 格式化的代码不被 ESLint 覆盖 'prettier', ], ignorePatterns: ['.eslintrc.js'], parser: 'vue-eslint-parser', // 使用 Vue 专用的解析器以便解析 .vue 文件 parserOptions: { parser: '@typescript-eslint/parser', // 使用 TypeScript 解析器解析 .ts 和 .tsx 文件 extraFileExtensions: ['.vue'], project: './tsconfig.json' ecmaVersion: 2020, // 支持 ECMAScript 2020 的语法块 sourceType: 'module', // 代码使用 ES 模块 // ecmaFeatures: { // 允许在代码中使用 JSX // jsx: true, // }, }, rules: { // ------------------ 公共 ------------------ 'prettier/prettier': ['warn'], 'no-console': process.env.NODE_ENV === 'production' ? 'warn' : 'off', 'no-debugger': process.env.NODE_ENV === 'production' ? 'warn' : 'off', '@typescript-eslint/no-explicit-any': 'off', 'import/no-extraneous-dependencies': 'off', // ------------------ 新增 js ------------------ // non stylistic rules which are conflict with airbnb-base 'no-empty': ['warn', { allowEmptyCatch: true }], 'no-unused-vars': ['warn', { args: 'none' }], 'arrow-body-style': ['off'], 'import/first': 'off', // 防止出现首行报红问题 'no-use-before-define': 'off', 'complexity': ['warn', { max: 10 }], // 配置 eslint 的 complexity // ------------------ 新增 ts ------------------ '@typescript-eslint/unbound-method': ['off'], // 在 vue 项目中 不用担心 this 丢失问题，包括 .vue, mixins '@typescript-eslint/no-use-before-define': ['error'], // 你不能在定义变量、函数、类等之前使用它们 '@typescript-eslint/no-unused-vars': 'off', // 关闭此规则，避免对未使用的变量发出警告 // '@typescript-eslint/no-explicit-any': 'error', // 不允许使用any类型 复杂度，约束每个函数的最大if分支数 // ------------------ 新增 vue3 ------------------ 'vue/multi-word-component-names': 'off', // 避免与 HTML 原生元素名称冲突 'vue/script-setup-uses-vars': 'error', // 确保 script setup 中的变量在 template 中被正确识别 }, overrides: [ { files: ['*.vue'], rules: { 'vue/require-direct-export': ['off'], }, }, { files: ['**/__tests__/*.{j,t}s?(x)', '**/tests/unit/**/*.spec.{j,t}s?(x)'] } ] }; 二、常见ESLint规则校验失败类型 常见ESLint规则校验失败类型，主要分为两类: 可自动修复的和需手动修复的\n1. 可自动修复的 $ npm run lint # 检测 $ npm run lint:fix # 修复 2. 需手动修复的 主要包括：\nTS类型规范和参数规范 包的导入规范 变量命名 // camelcase 推荐使用 camelCase 来命名变量和函数 // 示例：将 oa_nextNodeAssignee 重命名为 oaNextNodeAssignee 或其他符合 camelCase 约定的名称 // no-new // 用了 new 关键字来创建一个对象，但这个对象没有被赋值给任何变量，也没有被用作表达式的一部分。 // 这通常被视为一种不良实践，因为它可能导致不必要的资源分配或难以跟踪的副作用 // complexity - warning 某个函数的中的决策点（如if语句、for循环、while循环、case语句等） // 复杂程度过高 // 详细错误示例：warning Arrow function has a complexity of 13. Maximum allowed is 10 complexity // eslint-disable-next-line complexity const myComplexFunction = () =\u003e { // ... function body }; // no-underscore-dangle // 禁止在变量名中使用前导或尾随下划线（除了 _、__proto__、constructor、Object.prototype 的属性或方法外） // no-useless-escape 正则表达式中不必要的转义字符的错误 // prefer-regex-literals 规则推荐使用正则表达式字面量来替代 RegExp 构造函数 // 如：你的代码是 new RegExp('\\\\d+')，可以替换为 /\\d+/ // prefer-promise-reject-errors 将 Promise 的拒绝原因改为 Error 对象 // no-async-promise-executor 错误发生在尝试将 async 关键字用于 Promise 的执行函数（executor function）中时 // bad const validateTaxCode = (value: any) =\u003e new Promise(async (resolve) =\u003e { const res = await checkLastSubject({ subjectCode: value }) resolve(res) }) } // good const validateTaxCode = (value: any) =\u003e new Promise((resolve) =\u003e { const res = await checkLastSubject({ subjectCode: value }) resolve(res) }) } // 严格等于 eqeqeq // ESLint 建议使用 === 而不是 ==，因为 === 会比较值和类型，而 == 会在比较前尝试进行类型转换，这可能会导致意外的结果 // 重复导入 import/no-duplicates // bad import { defineRuntimeHooks } from '@zto/zmi' import { getEnv } from '@zto/zmi' // good import { defineRuntimeHooks, getEnv } from '@zto/zmi' // TS类型错误 // @typescript-eslint/no-unused-vars // 定义了一个名为 xxx 的变量或导入，但它在代码中从未被使用过 // @typescript-eslint/no-unsafe-argument // 没有为变量或属性提供明确的类型，或者从某些函数/方法中获取了未明确指定类型的值时 // @typescript-eslint/no-use-before-define // 表明你在使用 xxx 方法前没有先定义它 // @typescript-eslint/no-unsafe-enum-comparison // 枚举（enum）类型和你的判断条件不匹配 三、常见配置问题 1. 当前版本为Node 16，如何对以上eslint相关包降级处理？ package.json配置要求如下：\n{ \"engines\": { \"node\": \"\u003e=16\" }, \"peerDependencies\": { \"eslint\": \"^7.2.0 || ^8\" }, } 首先，是ESLint相关的包，因为要求Node 版本大于18，所以进行降级\n{ \"@typescript-eslint/eslint-plugin\": \"7.14.1\", // 7.2.0 \"@typescript-eslint/parser\": \"7.14.1\", // 7.2.0 \"@vue/eslint-config-typescript\": \"13.0.0\" // 12.0.0 } 其次，执行npm run lint，报错如下：\n$ npm run lint \u003e zmi-test@1.0.3 lint \u003e eslint --ext .js,.vue,.ts src ============= WARNING: You are currently running a version of TypeScript which is not officially supported by @typescript-eslint/typescript-estree. You may find that it works just fine, or you may not. SUPPORTED TYPESCRIPT VERSIONS: \u003e=4.7.4 \u003c5.5.0 YOUR TYPESCRIPT VERSION: 5.5.2 Please only submit bug reports when using the officially supported version. ============= 在 @typescript-eslint/parser 包的依赖 @typescript-eslint/typescript-estree, 其前置依赖的typescript有版本要求，需要降级处理\n{ \"typescript\": \"5.5.2\" // 降级 4.7.4 } 综上，最终降级后的包版本如下：\n{ \"@typescript-eslint/eslint-plugin\": \"7.2.0\", \"@typescript-eslint/parser\": \"7.2.0\", \"@vue/eslint-config-typescript\": \"12.0.0\", \"typescript\": \"4.7.4\" } 参考 https://github.com/standard/eslint-config-standard 最后， 希望大家早日实现：成为编程高手的伟大梦想！ 欢迎交流~\n本文版权归原作者曜灵所有！未经允许，严禁转载！对非法转载者, 原作者保留采用法律手段追究的权利！ 若需转载，请联系微信公众号：连先生有猫病，可获取作者联系方式！\n","wordCount":"2468","inLanguage":"zh","datePublished":"2024-08-04T20:19:23+08:00","dateModified":"2024-08-06T23:19:23+08:00","author":[{"@type":"Person","name":"曜灵"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://lianpf.github.io/posts/frontend-develop/eslint-ts-prettier-config-vue3/"},"publisher":{"@type":"Organization","name":"曜灵（SUN）Site","logo":{"@type":"ImageObject","url":"https://lianpf.github.io/img-common/favicon.png"}}}</script></head><body id=top><script>(function(){let e,t=new RegExp("(^| )change-themes=([^;]*)(;|$)");(e=document.cookie.match(t))||((new Date).getHours()>=19||(new Date).getHours()<6?(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")))})(),localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://lianpf.github.io/ accesskey=h title="曜灵（SUN）Site (Alt + H)"><img src=https://lianpf.github.io/img-common/avatar.jpeg alt=logo aria-label=logo height=35>曜灵（SUN）Site</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://lianpf.github.io/search title="🔍 搜索 (Alt + /)" accesskey=/><span>🔍 搜索</span></a></li><li><a href=https://lianpf.github.io/ title="🏠 主页"><span>🏠 主页</span></a></li><li><a href=https://lianpf.github.io/archives/ title="⏱️ 归档"><span>⏱️ 归档</span></a></li><li><a href=https://lianpf.github.io/tags title="🧩 标签"><span>🧩 标签</span></a></li><li><a href=https://lianpf.github.io/about title="🙋🏻‍♂️ 关于"><span>🙋🏻‍♂️ 关于</span></a></li></ul></nav></header><main class="main page"><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}</style><article class=post-single><div id=single-content><header class=post-header><div class=breadcrumbs><a href=https://lianpf.github.io/>🏠 主页</a>&nbsp;»&nbsp;<a href=https://lianpf.github.io/posts/>📚文章</a>&nbsp;»&nbsp;<a href=https://lianpf.github.io/posts/frontend-develop/>👨🏻‍💻 前端</a></div><h1 class=post-title>Vue3技术栈：ESLint、TypeScript和Prettier配置</h1><div class=post-meta><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}.parent-post-meta{display:flex;flex-wrap:wrap;opacity:.8}</style><span class=parent-post-meta><span id=post_meta_style_1><span class="fa fa-calendar-check-o"></span>
<span>&nbsp;创建&nbsp;2024-08-04
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_2><span class="fa fa-calendar-plus-o"></span>
<span>&nbsp;更新&nbsp;2024-08-06
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_5><span class="fa fa-user-o"></span>
<span>曜灵
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_6><span class="fa fa-tags" style=opacity:.8></span>
<span><span class=post-tags-meta><a href=https://lianpf.github.io/tags/vue%E6%8A%80%E6%9C%AF%E6%A0%88/ style=color:var(--secondary)!important>Vue技术栈</a>
&nbsp;<a href=https://lianpf.github.io/tags/eslint/ style=color:var(--secondary)!important>ESLint</a>
&nbsp;<a href=https://lianpf.github.io/tags/ts/ style=color:var(--secondary)!important>TS</a></span></span></span></span>
<span style=opacity:.8><span id=post_meta_style_7>&nbsp;&nbsp;
<span class="fa fa-eye"></span>
<span><span id=busuanzi_container_page_pv><span id=busuanzi_value_page_pv></span></span>
&nbsp;&nbsp;</span></span></span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e5%89%8d%e7%bd%ae%e8%83%8c%e6%99%af aria-label=前置背景>前置背景</a><ul><li><a href=#1%e9%80%82%e7%94%a8%e8%8c%83%e5%9b%b4 aria-label=1.适用范围>1.适用范围</a></li><li><a href=#2vue3%e9%a1%b9%e7%9b%ae%e5%88%9b%e5%bb%ba aria-label=2.Vue3项目创建>2.Vue3项目创建</a></li></ul></li><li><a href=#%e4%b8%80%e9%85%8d%e7%bd%aeeslintts-%e5%92%8c-prettier aria-label="一、配置ESLint、TS 和 Prettier">一、配置<code>ESLint</code>、<code>TS</code> 和 <code>Prettier</code></a><ul><li><a href=#1-%e4%be%9d%e8%b5%96%e5%ae%89%e8%a3%85 aria-label="1. 依赖安装">1. 依赖安装</a><ul><li><a href=#11-%e6%8c%89%e7%85%a7packagejson%e5%ae%89%e8%a3%85%e9%85%8d%e7%bd%ae aria-label="1.1 按照package.json安装配置">1.1 按照<code>package.json</code>安装配置</a></li><li><a href=#12-%e6%89%8b%e5%8a%a8%e9%85%8d%e7%bd%ae%e5%ae%89%e8%a3%85 aria-label="1.2 手动配置安装">1.2 手动配置安装</a></li></ul></li><li><a href=#2-%e9%85%8d%e7%bd%aeeslintts-%e5%92%8c-prettier aria-label="2. 配置ESLint、TS 和 Prettier">2. 配置<code>ESLint</code>、<code>TS</code> 和 <code>Prettier</code></a><ul><li><a href=#21-tsconfigjson-%e6%96%87%e4%bb%b6 aria-label="2.1 tsconfig.json 文件">2.1 <code>tsconfig.json</code> 文件</a></li><li><a href=#22-prettierrc-%e6%96%87%e4%bb%b6 aria-label="2.2 .prettierrc 文件">2.2 <code>.prettierrc</code> 文件</a></li><li><a href=#23-eslintrcjs-%e6%96%87%e4%bb%b6 aria-label="2.3 .eslintrc.js 文件">2.3 <code>.eslintrc.js</code> 文件</a></li></ul></li></ul></li><li><a href=#%e4%ba%8c%e5%b8%b8%e8%a7%81eslint%e8%a7%84%e5%88%99%e6%a0%a1%e9%aa%8c%e5%a4%b1%e8%b4%a5%e7%b1%bb%e5%9e%8b aria-label=二、常见ESLint规则校验失败类型>二、常见ESLint规则校验失败类型</a><ul><li><a href=#1-%e5%8f%af%e8%87%aa%e5%8a%a8%e4%bf%ae%e5%a4%8d%e7%9a%84 aria-label="1. 可自动修复的">1. 可自动修复的</a></li><li><a href=#2-%e9%9c%80%e6%89%8b%e5%8a%a8%e4%bf%ae%e5%a4%8d%e7%9a%84 aria-label="2. 需手动修复的">2. 需手动修复的</a></li></ul></li><li><a href=#%e4%b8%89%e5%b8%b8%e8%a7%81%e9%85%8d%e7%bd%ae%e9%97%ae%e9%a2%98 aria-label=三、常见配置问题>三、常见配置问题</a><ul><li><a href=#1-%e5%bd%93%e5%89%8d%e7%89%88%e6%9c%ac%e4%b8%banode-16%e5%a6%82%e4%bd%95%e5%af%b9%e4%bb%a5%e4%b8%8aeslint%e7%9b%b8%e5%85%b3%e5%8c%85%e9%99%8d%e7%ba%a7%e5%a4%84%e7%90%86 aria-label="1. 当前版本为Node 16，如何对以上eslint相关包降级处理？">1. 当前版本为Node 16，如何对以上eslint相关包降级处理？</a></li></ul></li><li><a href=#%e5%8f%82%e8%80%83 aria-label=参考>参考</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{elements&&(activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>前期规范主要针对Vue2的历史项目，近期对Vue3项目的规则做了统一梳理，具体如&mldr;</p><p>系列文章：</p><ul><li>第一篇：<a href=/posts/frontend-develop/eslint-ts-prettier-config-vue3/>Vue3技术栈：ESLint、TypeScript和Prettier配置</a></li><li>第二篇：<a href=/posts/frontend-develop/eslint-build-utilpackage/>ESLint: 构建适配Vue3配置的公共Package</a></li></ul><hr><h2 id=前置背景>前置背景<a hidden class=anchor aria-hidden=true href=#前置背景>#</a></h2><h3 id=1适用范围>1.适用范围<a hidden class=anchor aria-hidden=true href=#1适用范围>#</a></h3><p>主要针对：Vue3技术栈及相关生态的代码规则配置，其中 <strong><font color=Tomato>Node 版本大于18，且ESLint 版本大于8</font></strong>。</p><p><code>package.json</code>配置如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;engines&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;node&#34;</span>: <span style=color:#e6db74>&#34;&gt;=18&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;peerDependencies&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;eslint&#34;</span>: <span style=color:#e6db74>&#34;^8&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=2vue3项目创建>2.Vue3项目创建<a hidden class=anchor aria-hidden=true href=#2vue3项目创建>#</a></h3><p>使用<code>Vite</code>初始化<code>Vue3</code>项目，更多参考 <a href=https://cn.vitejs.dev/guide/>搭建Vite项目</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># npm 7+, 需要额外加 --:</span>
</span></span><span style=display:flex><span>$ npm create vite@latest &lt;project-name&gt; -- --template vue-ts
</span></span></code></pre></div><hr><h2 id=一配置eslintts-和-prettier>一、配置<code>ESLint</code>、<code>TS</code> 和 <code>Prettier</code><a hidden class=anchor aria-hidden=true href=#一配置eslintts-和-prettier>#</a></h2><h3 id=1-依赖安装>1. 依赖安装<a hidden class=anchor aria-hidden=true href=#1-依赖安装>#</a></h3><p>这里介绍两种安装依赖的方式，第一种是参考给出的package.json进行配置安装，第二种是按照命令，依次安装配置。</p><h4 id=11-按照packagejson安装配置>1.1 按照<code>package.json</code>安装配置<a hidden class=anchor aria-hidden=true href=#11-按照packagejson安装配置>#</a></h4><p>参考以下<code>package.json</code>，在项目根目录执行：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ npm i
</span></span></code></pre></div><p><code>package.json</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;vue3-ts-eslint-h5&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;private&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;version&#34;</span>: <span style=color:#e6db74>&#34;0.0.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;module&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;scripts&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;dev&#34;</span>: <span style=color:#e6db74>&#34;vite&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;build&#34;</span>: <span style=color:#e6db74>&#34;vue-tsc -b &amp;&amp; vite build&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;lint&#34;</span>: <span style=color:#e6db74>&#34;eslint --ext .js,.vue,.ts src&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;lint:fix&#34;</span>: <span style=color:#e6db74>&#34;eslint --ext .js,.vue,.ts src --fix&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;engines&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;node&#34;</span>: <span style=color:#e6db74>&#34;&gt;=18&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;peerDependencies&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;eslint&#34;</span>: <span style=color:#e6db74>&#34;^8&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;dependencies&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;vue&#34;</span>: <span style=color:#e6db74>&#34;^3.4.29&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;vite&#34;</span>: <span style=color:#e6db74>&#34;^5.3.1&#34;</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;devDependencies&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;@typescript-eslint/eslint-plugin&#34;</span>: <span style=color:#e6db74>&#34;^7.14.1&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;@typescript-eslint/parser&#34;</span>: <span style=color:#e6db74>&#34;^7.14.1&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;@vitejs/plugin-vue&#34;</span>: <span style=color:#e6db74>&#34;^5.0.5&#34;</span>, <span style=color:#75715e>// 无关 - 可注释
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#f92672>&#34;@vue/eslint-config-standard&#34;</span>: <span style=color:#e6db74>&#34;^8.0.1&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;@vue/eslint-config-typescript&#34;</span>: <span style=color:#e6db74>&#34;^13.0.0&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;eslint&#34;</span>: <span style=color:#e6db74>&#34;8.56.0&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;eslint-config-airbnb-base&#34;</span>: <span style=color:#e6db74>&#34;15.0.0&#34;</span>, <span style=color:#75715e>// js 相关
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#f92672>&#34;eslint-config-prettier&#34;</span>: <span style=color:#e6db74>&#34;9.1.0&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;eslint-plugin-prettier&#34;</span>: <span style=color:#e6db74>&#34;5.1.3&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;eslint-plugin-vue&#34;</span>: <span style=color:#e6db74>&#34;9.26.0&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;eslint-plugin-import&#34;</span>: <span style=color:#e6db74>&#34;2.29.1&#34;</span>, <span style=color:#75715e>// eslint-config-airbnb-base 前置插件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#f92672>&#34;prettier&#34;</span>: <span style=color:#e6db74>&#34;^3.3.2&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;typescript&#34;</span>: <span style=color:#e6db74>&#34;^5.2.2&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;vue-tsc&#34;</span>: <span style=color:#e6db74>&#34;^2.0.21&#34;</span>, <span style=color:#75715e>// 无关 - 可注释
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#f92672>&#34;lint-staged&#34;</span>: <span style=color:#e6db74>&#34;^9.1.0&#34;</span>, <span style=color:#75715e>// 无关 - git commit 检测eslint机制
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;lint-staged&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;*.{js,ts,vue}&#34;</span>: [
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;eslint --fix&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;git add&#34;</span>
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;src/**/*.{vue,css,sass,scss}&#34;</span>: [
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;stylelint --fix&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;git add&#34;</span>
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 在.prettier配置，可代替此处配置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>&#34;prettier&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=12-手动配置安装>1.2 手动配置安装<a hidden class=anchor aria-hidden=true href=#12-手动配置安装>#</a></h4><p>手动添加<code>ESLint</code>和<code>TypeScript</code>支持：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm install --save-dev eslint eslint-plugin-vue typescript @typescript-eslint/parser @typescript-eslint/eslint-plugin
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>npx install-peerdeps --dev eslint-config-airbnb-base
</span></span><span style=display:flex><span>npm install --save-dev eslint-plugin-vue eslint-plugin-import
</span></span></code></pre></div><p>手动添加<code>Prettier</code>支持：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm install --save-dev prettier eslint-config-prettier eslint-plugin-prettier
</span></span></code></pre></div><h3 id=2-配置eslintts-和-prettier>2. 配置<code>ESLint</code>、<code>TS</code> 和 <code>Prettier</code><a hidden class=anchor aria-hidden=true href=#2-配置eslintts-和-prettier>#</a></h3><h4 id=21-tsconfigjson-文件>2.1 <code>tsconfig.json</code> 文件<a hidden class=anchor aria-hidden=true href=#21-tsconfigjson-文件>#</a></h4><p>确保项目根目录有<code>tsconfig.json</code>文件。以下是基本的<code>TypeScript</code>配置示例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;extends&#34;</span>:<span style=color:#e6db74>&#34;./other_tsconfig/tsconfig.json&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;compilerOptions&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;target&#34;</span>: <span style=color:#e6db74>&#34;esnext&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;module&#34;</span>: <span style=color:#e6db74>&#34;esnext&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;strict&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;jsx&#34;</span>: <span style=color:#e6db74>&#34;preserve&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;importHelpers&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;moduleResolution&#34;</span>: <span style=color:#e6db74>&#34;node&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;esModuleInterop&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;allowSyntheticDefaultImports&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;sourceMap&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;baseUrl&#34;</span>: <span style=color:#e6db74>&#34;.&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;paths&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;@/*&#34;</span>: [<span style=color:#e6db74>&#34;src/*&#34;</span>]
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;lib&#34;</span>: [<span style=color:#e6db74>&#34;esnext&#34;</span>, <span style=color:#e6db74>&#34;dom&#34;</span>]<span style=color:#960050;background-color:#1e0010>，</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// ---------------- 新增（待定）---------------
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;include&#34;</span>: [<span style=color:#e6db74>&#34;src/**/*.ts&#34;</span>, <span style=color:#e6db74>&#34;src/**/*.d.ts&#34;</span>, <span style=color:#e6db74>&#34;src/**/*.tsx&#34;</span>, <span style=color:#e6db74>&#34;src/**/*.vue&#34;</span>],
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;exclude&#34;</span>: [<span style=color:#e6db74>&#34;node_modules&#34;</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=22-prettierrc-文件>2.2 <code>.prettierrc</code> 文件<a hidden class=anchor aria-hidden=true href=#22-prettierrc-文件>#</a></h4><p>在项目根目录创建<code>.prettierrc</code>文件：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;singleQuote&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;tabWidth&#34;</span>: <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;semi&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;eslintIntegration&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;printWidth&#34;</span>: <span style=color:#ae81ff>120</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;endOfLine&#34;</span>: <span style=color:#e6db74>&#34;auto&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;arrowParens&#34;</span>: <span style=color:#e6db74>&#34;always&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;trailingComma&#34;</span>: <span style=color:#e6db74>&#34;none&#34;</span>,
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>依赖<code>.eslintrc.js</code>中扩展<code>Prettier</code>配置：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// ...,
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>extends</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#e6db74>&#39;prettier&#39;</span>,
</span></span><span style=display:flex><span>],
</span></span></code></pre></div><h4 id=23-eslintrcjs-文件>2.3 <code>.eslintrc.js</code> 文件<a hidden class=anchor aria-hidden=true href=#23-eslintrcjs-文件>#</a></h4><p>在项目根目录下创建<code>.eslintrc.js</code>文件，并配置<code>ESLint</code>规则。以下是一个基本的配置示例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>root</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>env</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>node</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>browser</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>es6</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>globals</span><span style=color:#f92672>:</span> {},
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>plugins</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;@typescript-eslint&#39;</span>, <span style=color:#e6db74>&#39;vue&#39;</span>],
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>extends</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;airbnb-base&#39;</span>, <span style=color:#75715e>// js
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#39;eslint:recommended&#39;</span>, 
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;@vue/typescript/recommended&#39;</span>, <span style=color:#75715e>// 启用 Vue + TypeScript 推荐的 ESLint 配置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#39;plugin:vue/vue3-recommended&#39;</span>, <span style=color:#75715e>// 启用 Vue 3 推荐的 ESLint 配置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#39;plugin:prettier/recommended&#39;</span>, <span style=color:#75715e>// 确保 Prettier 格式化的代码不被 ESLint 覆盖
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#39;prettier&#39;</span>,
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ignorePatterns</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;.eslintrc.js&#39;</span>],
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>parser</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;vue-eslint-parser&#39;</span>, <span style=color:#75715e>// 使用 Vue 专用的解析器以便解析 .vue 文件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>parserOptions</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>parser</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;@typescript-eslint/parser&#39;</span>, <span style=color:#75715e>// 使用 TypeScript 解析器解析 .ts 和 .tsx 文件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>extraFileExtensions</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;.vue&#39;</span>], 
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>project</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;./tsconfig.json&#39;</span> 
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ecmaVersion</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>2020</span>, <span style=color:#75715e>// 支持 ECMAScript 2020 的语法块
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>sourceType</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;module&#39;</span>, <span style=color:#75715e>// 代码使用 ES 模块
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// ecmaFeatures: { // 允许在代码中使用 JSX
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>//   jsx: true,
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// },
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    },
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rules</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// ------------------ 公共 ------------------
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#39;prettier/prettier&#39;</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;warn&#39;</span>],
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;no-console&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>NODE_ENV</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;production&#39;</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;warn&#39;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;off&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;no-debugger&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>NODE_ENV</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;production&#39;</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;warn&#39;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;off&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;@typescript-eslint/no-explicit-any&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;off&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;import/no-extraneous-dependencies&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;off&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#75715e>// ------------------ 新增 js ------------------
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// non stylistic rules which are conflict with airbnb-base
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#39;no-empty&#39;</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;warn&#39;</span>, { <span style=color:#a6e22e>allowEmptyCatch</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span> }],
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;no-unused-vars&#39;</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;warn&#39;</span>, { <span style=color:#a6e22e>args</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;none&#39;</span> }],
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;arrow-body-style&#39;</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;off&#39;</span>],
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;import/first&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;off&#39;</span>, <span style=color:#75715e>// 防止出现首行报红问题
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#39;no-use-before-define&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;off&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;complexity&#39;</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;warn&#39;</span>, { <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span> }], <span style=color:#75715e>// 配置 eslint 的 complexity
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// ------------------ 新增 ts ------------------
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#39;@typescript-eslint/unbound-method&#39;</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;off&#39;</span>], <span style=color:#75715e>// 在 vue 项目中 不用担心 this 丢失问题，包括 .vue, mixins
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#39;@typescript-eslint/no-use-before-define&#39;</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;error&#39;</span>], <span style=color:#75715e>// 你不能在定义变量、函数、类等之前使用它们
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#39;@typescript-eslint/no-unused-vars&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;off&#39;</span>, <span style=color:#75715e>// 关闭此规则，避免对未使用的变量发出警告
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#75715e>// &#39;@typescript-eslint/no-explicit-any&#39;: &#39;error&#39;, // 不允许使用any类型
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>复杂度</span><span style=color:#960050;background-color:#1e0010>，</span><span style=color:#a6e22e>约束每个函数的最大if分支数</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// ------------------ 新增 vue3 ------------------
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#39;vue/multi-word-component-names&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;off&#39;</span>, <span style=color:#75715e>// 避免与 HTML 原生元素名称冲突
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#39;vue/script-setup-uses-vars&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;error&#39;</span>, <span style=color:#75715e>// 确保 script setup 中的变量在 template 中被正确识别
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    },
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>overrides</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>files</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;*.vue&#39;</span>],
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>rules</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;vue/require-direct-export&#39;</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;off&#39;</span>],
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>files</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;**/__tests__/*.{j,t}s?(x)&#39;</span>, <span style=color:#e6db74>&#39;**/tests/unit/**/*.spec.{j,t}s?(x)&#39;</span>]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><hr><h2 id=二常见eslint规则校验失败类型>二、常见ESLint规则校验失败类型<a hidden class=anchor aria-hidden=true href=#二常见eslint规则校验失败类型>#</a></h2><blockquote><p>常见ESLint规则校验失败类型，主要分为两类: 可自动修复的和需手动修复的</p></blockquote><h3 id=1-可自动修复的>1. 可自动修复的<a hidden class=anchor aria-hidden=true href=#1-可自动修复的>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ npm run lint <span style=color:#75715e># 检测</span>
</span></span><span style=display:flex><span>$ npm run lint:fix <span style=color:#75715e># 修复</span>
</span></span></code></pre></div><h3 id=2-需手动修复的>2. 需手动修复的<a hidden class=anchor aria-hidden=true href=#2-需手动修复的>#</a></h3><p>主要包括：</p><ul><li>TS类型规范和参数规范</li><li>包的导入规范</li><li>变量命名</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// camelcase 推荐使用 camelCase 来命名变量和函数
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 示例：将 oa_nextNodeAssignee 重命名为 oaNextNodeAssignee 或其他符合 camelCase 约定的名称
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>//  no-new
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 用了 new 关键字来创建一个对象，但这个对象没有被赋值给任何变量，也没有被用作表达式的一部分。
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 这通常被视为一种不良实践，因为它可能导致不必要的资源分配或难以跟踪的副作用
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// complexity -  warning  某个函数的中的决策点（如if语句、for循环、while循环、case语句等）
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 复杂程度过高
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 详细错误示例：warning  Arrow function has a complexity of 13. Maximum allowed is 10  complexity
</span></span></span><span style=display:flex><span><span style=color:#75715e>// eslint-disable-next-line complexity  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>myComplexFunction</span> <span style=color:#f92672>=</span> () =&gt; {  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ... function body  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// no-underscore-dangle 
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 禁止在变量名中使用前导或尾随下划线（除了 _、__proto__、constructor、Object.prototype 的属性或方法外）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// no-useless-escape 正则表达式中不必要的转义字符的错误
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// prefer-regex-literals 规则推荐使用正则表达式字面量来替代 RegExp 构造函数
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 如：你的代码是 new RegExp(&#39;\\d+&#39;)，可以替换为 /\d+/
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// prefer-promise-reject-errors 将 Promise 的拒绝原因改为 Error 对象
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// no-async-promise-executor 错误发生在尝试将 async 关键字用于 Promise 的执行函数（executor function）中时
</span></span></span><span style=display:flex><span><span style=color:#75715e>// bad
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>validateTaxCode</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>value</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>any</span>) =&gt;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> Promise(<span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>resolve</span>) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>res</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>checkLastSubject</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>subjectCode</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>value</span>
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>resolve</span>(<span style=color:#a6e22e>res</span>)
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// good
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>validateTaxCode</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>value</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>any</span>) =&gt;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> Promise((<span style=color:#a6e22e>resolve</span>) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>res</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>checkLastSubject</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>subjectCode</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>value</span>
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>resolve</span>(<span style=color:#a6e22e>res</span>)
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 严格等于 eqeqeq 
</span></span></span><span style=display:flex><span><span style=color:#75715e>// ESLint 建议使用 === 而不是 ==，因为 === 会比较值和类型，而 == 会在比较前尝试进行类型转换，这可能会导致意外的结果
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 重复导入 import/no-duplicates
</span></span></span><span style=display:flex><span><span style=color:#75715e>// bad 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>defineRuntimeHooks</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;@zto/zmi&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>getEnv</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;@zto/zmi&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// good
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>defineRuntimeHooks</span>, <span style=color:#a6e22e>getEnv</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;@zto/zmi&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// TS类型错误
</span></span></span><span style=display:flex><span><span style=color:#75715e>// @typescript-eslint/no-unused-vars // 定义了一个名为 xxx 的变量或导入，但它在代码中从未被使用过
</span></span></span><span style=display:flex><span><span style=color:#75715e>// @typescript-eslint/no-unsafe-argument // 没有为变量或属性提供明确的类型，或者从某些函数/方法中获取了未明确指定类型的值时
</span></span></span><span style=display:flex><span><span style=color:#75715e>// @typescript-eslint/no-use-before-define // 表明你在使用 xxx 方法前没有先定义它
</span></span></span><span style=display:flex><span><span style=color:#75715e>// @typescript-eslint/no-unsafe-enum-comparison // 枚举（enum）类型和你的判断条件不匹配
</span></span></span></code></pre></div><hr><h2 id=三常见配置问题>三、常见配置问题<a hidden class=anchor aria-hidden=true href=#三常见配置问题>#</a></h2><h3 id=1-当前版本为node-16如何对以上eslint相关包降级处理>1. 当前版本为Node 16，如何对以上eslint相关包降级处理？<a hidden class=anchor aria-hidden=true href=#1-当前版本为node-16如何对以上eslint相关包降级处理>#</a></h3><p><code>package.json</code>配置要求如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;engines&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;node&#34;</span>: <span style=color:#e6db74>&#34;&gt;=16&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;peerDependencies&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;eslint&#34;</span>: <span style=color:#e6db74>&#34;^7.2.0 || ^8&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>首先，是<code>ESLint</code>相关的包，因为要求Node 版本大于18，所以进行降级</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;@typescript-eslint/eslint-plugin&#34;</span>: <span style=color:#e6db74>&#34;7.14.1&#34;</span>,  <span style=color:#75715e>// 7.2.0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>&#34;@typescript-eslint/parser&#34;</span>: <span style=color:#e6db74>&#34;7.14.1&#34;</span>, <span style=color:#75715e>// 7.2.0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>&#34;@vue/eslint-config-typescript&#34;</span>: <span style=color:#e6db74>&#34;13.0.0&#34;</span> <span style=color:#75715e>// 12.0.0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>其次，执行<code>npm run lint</code>，报错如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ npm run lint
</span></span><span style=display:flex><span>&gt; zmi-test@1.0.3 lint
</span></span><span style=display:flex><span>&gt; eslint --ext .js,.vue,.ts src
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>=============</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>WARNING: You are currently running a version of TypeScript which is not officially supported by @typescript-eslint/typescript-estree.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>You may find that it works just fine, or you may not.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>SUPPORTED TYPESCRIPT VERSIONS: &gt;<span style=color:#f92672>=</span>4.7.4 &lt;5.5.0
</span></span><span style=display:flex><span>YOUR TYPESCRIPT VERSION: 5.5.2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Please only submit bug reports when using the officially supported version.
</span></span><span style=display:flex><span><span style=color:#f92672>=============</span>
</span></span></code></pre></div><p>在 <code>@typescript-eslint/parser</code> 包的依赖 <code>@typescript-eslint/typescript-estree</code>, 其前置依赖的<code>typescript</code>有版本要求，需要降级处理</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;typescript&#34;</span>: <span style=color:#e6db74>&#34;5.5.2&#34;</span> <span style=color:#75715e>// 降级 4.7.4
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>综上，最终降级后的包版本如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;@typescript-eslint/eslint-plugin&#34;</span>: <span style=color:#e6db74>&#34;7.2.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;@typescript-eslint/parser&#34;</span>: <span style=color:#e6db74>&#34;7.2.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;@vue/eslint-config-typescript&#34;</span>: <span style=color:#e6db74>&#34;12.0.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;typescript&#34;</span>: <span style=color:#e6db74>&#34;4.7.4&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr><h2 id=参考>参考<a hidden class=anchor aria-hidden=true href=#参考>#</a></h2><ul><li><a href=https://github.com/standard/eslint-config-standard>https://github.com/standard/eslint-config-standard</a></li></ul><hr><p><strong>最后， 希望大家早日实现：成为编程高手的伟大梦想！</strong><br><strong>欢迎交流~</strong></p><img src=/img-common/weChatPublic.jpg alt=微信公众号 width=600 height=286><p><strong>本文版权归原作者曜灵所有！未经允许，严禁转载！对非法转载者, 原作者保留采用法律手段追究的权利！</strong><br><strong>若需转载，请联系微信公众号：连先生有猫病，可获取作者联系方式！</strong></p></div><footer class=post-footer><nav class=paginav><a class=prev href=https://lianpf.github.io/posts/frontend-develop/eslint-build-utilpackage/><span class=title>« 上一页</span><br><span>ESLint: 构建适配Vue3配置的公共Package</span></a>
<a class=next href=https://lianpf.github.io/posts/other/tools-project-create/><span class=title>下一页 »</span><br><span>工具：项目创建的常见方式</span></a></nav></footer></div><script src=https://utteranc.es/client.js repo=lianpf/lianpf.github.io issue-term=title label=comments theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>Copyright
&copy;
2016-2025
<a href=https://lianpf.github.io/ style=color:#939393>曜灵（SUN）Site</a>.
基于 Hugo 引擎和 PaperMod 主题</span>
<a href=https://beian.miit.gov.cn/ target=_blank style=color:#939393></a>&nbsp;</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg><span id=read_progress></span></span></a>
<script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>let mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>200||document.documentElement.scrollTop>200?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{(function(){document.cookie="change-themes="+escape("false")})(),document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.body.addEventListener("copy",function(e){if(window.getSelection().toString()&&window.getSelection().toString().length>50){let t=e.clipboardData||window.clipboardData;if(t){e.preventDefault();let n=window.getSelection().toString()+`

————————————————
版权声明：本文为「曜灵（SUN）Site」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：`+location.href,s=window.getSelection().toString()+`

————————————————
版权声明：本文为「曜灵（SUN）Site」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：`+location.href;t.setData("text/html",n),t.setData("text/plain",s)}}})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="复制";function i(){t.innerText="已复制！",setTimeout(()=>{t.innerText="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){let t=e.textContent+`
————————————————
版权声明：本文为「曜灵（SUN）Site」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：`+location.href;navigator.clipboard.writeText(t),i();return}const n=document.createRange();n.selectNodeContents(e);const s=window.getSelection();s.removeAllRanges(),s.addRange(n);try{document.execCommand("copy"),i()}catch{}s.removeRange(n)});let l=e.className.replaceAll("language-",""),n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div");o.innerText=l,n.setAttribute("class","mac-tool"),a.setAttribute("class","mac bb1"),r.setAttribute("class","mac bb2"),c.setAttribute("class","mac bb3"),o.setAttribute("class","language-type"),n.appendChild(a),n.appendChild(r),n.appendChild(c),n.appendChild(o),s.classList.contains("highlight")?(s.appendChild(t),s.appendChild(n)):s.parentNode.firstChild==s||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?(e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t),s.appendChild(n)):(e.parentNode.appendChild(t),s.appendChild(n)))})</script></body></html>