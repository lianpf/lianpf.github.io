<!doctype html><html class=no-js lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>å¯¹æ¯” React Hooks å’Œ Vue Composition API - æ›œçµï¼ˆSUNï¼‰Site</title><script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script><meta name=description content><meta property="og:title" content="å¯¹æ¯” React Hooks å’Œ Vue Composition API"><meta property="og:description" content="ç›®å½• åœºæ™¯ hook çš„æ—¶ä»£æ„ä¹‰ React Hooks Vue Composition API å·®åˆ« æ€»ç»“ åœºæ™¯ å…ˆç†è§£&mldr;"><meta property="og:type" content="article"><meta property="og:url" content="/posts/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/02.%E5%AF%B9%E6%AF%94-react-hooks-%E5%92%8C-vue-composition-api/"><meta property="article:published_time" content="2020-07-06T00:00:00+00:00"><meta property="article:modified_time" content="2020-09-04T00:00:00+00:00"><meta itemprop=name content="å¯¹æ¯” React Hooks å’Œ Vue Composition API"><meta itemprop=description content="ç›®å½• åœºæ™¯ hook çš„æ—¶ä»£æ„ä¹‰ React Hooks Vue Composition API å·®åˆ« æ€»ç»“ åœºæ™¯ å…ˆç†è§£&mldr;"><meta itemprop=datePublished content="2020-07-06T00:00:00+00:00"><meta itemprop=dateModified content="2020-09-04T00:00:00+00:00"><meta itemprop=wordCount content="4852"><meta itemprop=keywords content="JavaScript,ReactæŠ€æœ¯æ ˆ,VueæŠ€æœ¯æ ˆ,"><meta name=twitter:card content="summary"><meta name=twitter:title content="å¯¹æ¯” React Hooks å’Œ Vue Composition API"><meta name=twitter:description content="ç›®å½• åœºæ™¯ hook çš„æ—¶ä»£æ„ä¹‰ React Hooks Vue Composition API å·®åˆ« æ€»ç»“ åœºæ™¯ å…ˆç†è§£&mldr;"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/js/highlight/styles/agate.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.png><script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?9476c4482071e4a786f624283467fed0";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script><style type=text/css>pre{padding:0}</style></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class="logo logo--mixed"><a class=logo__link href=/ title=æ›œçµï¼ˆSUNï¼‰Site rel=home><div class="logo__item logo__imagebox"><img class=logo__img src=/img-common/favicon.png></div><div class="logo__item logo__text"><div class=logo__title>æ›œçµï¼ˆSUNï¼‰Site</div><div class=logo__tagline>ğŸŒ å¸¦ç€ "åè§" å»ç†è§£æŠ€æœ¯çš„ä¸–ç•Œ</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>èœå•</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/about/me/><span class=menu__text>å…³äºåšä¸»</span></a></li><li class=menu__item><a class=menu__link href=/about/site/><span class=menu__text>å…³äºç«™ç‚¹</span></a></li><li class=menu__item><a class=menu__link href=https://github.com/lianpf/lianpf.github.io><span class=menu__text>ç¼–è¾‘ï¼ˆEditï¼‰</span></a></li><li class=menu__item><a class=menu__link href=https://github.com/lianpf/lianpf.github.io/issues><span class=menu__text>åé¦ˆï¼ˆissuesï¼‰</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>å¯¹æ¯” React Hooks å’Œ Vue Composition API</h1><div class="post__meta meta"><div class="meta__item-author meta__item"><svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2.0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class=meta__text>æ›œçµ</span></div><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2020-07-06T00:00:00Z>2020-07-06</time>
<time class=meta__text datetime=2020-09-04T00:00:00Z>(æœ€åä¿®æ”¹: 2020-09-04)</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/ rel=category>å‰ç«¯æ¡†æ¶</a></span></div></div></header><div class="post__toc toc"><div class=toc__title>ç›®å½•</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#åœºæ™¯>åœºæ™¯</a></li><li><a href=#hookçš„æ—¶ä»£æ„ä¹‰>hookçš„æ—¶ä»£æ„ä¹‰</a></li><li><a href=#react-hooks>React Hooks</a><ul><li><a href=#vue-composition-api>Vue Composition API</a></li></ul></li><li><a href=#å·®åˆ«>å·®åˆ«</a><ul><li><a href=#åŸç†>åŸç†</a></li><li><a href=#ä»£ç çš„æ‰§è¡Œ>ä»£ç çš„æ‰§è¡Œ</a></li><li><a href=#å£°æ˜çŠ¶æ€declaring-state>å£°æ˜çŠ¶æ€(Declaring state)</a></li><li><a href=#å¦‚ä½•è·Ÿè¸ªä¾èµ–how-to-track-dependencies>å¦‚ä½•è·Ÿè¸ªä¾èµ–(How to track dependencies)</a></li><li><a href=#è®¿é—®ç»„ä»¶ç”Ÿå‘½å‘¨æœŸaccess-to-the-lifecycle-of-the-component>è®¿é—®ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ(Access to the lifecycle of the component)</a></li><li><a href=#è‡ªå®šä¹‰ä»£ç custom-code>è‡ªå®šä¹‰ä»£ç (Custom code)</a></li><li><a href=#refs>Refs</a></li><li><a href=#é™„åŠ çš„å‡½æ•°additional-functions>é™„åŠ çš„å‡½æ•°(Additional functions)</a></li><li><a href=#context-å’Œ-provideinject>Context å’Œ provide/inject</a></li><li><a href=#åœ¨æ¸²æŸ“ä¸Šä¸‹æ–‡ä¸­æš´éœ²å€¼exposing-values-to-render-context>åœ¨æ¸²æŸ“ä¸Šä¸‹æ–‡ä¸­æš´éœ²å€¼(Exposing values to render context)</a></li><li><a href=#æ€»ç»“conclusion>æ€»ç»“(Conclusion)</a></li><li><a href=#å‚è€ƒ>å‚è€ƒ</a></li></ul></li></ul></nav></div></div><div class="content post__content clearfix"><p>ç›®å½• åœºæ™¯ hook çš„æ—¶ä»£æ„ä¹‰ React Hooks Vue Composition API å·®åˆ« æ€»ç»“ åœºæ™¯ å…ˆç†è§£&mldr;</p><figure><img src=/img-blogs/20200706-001.png alt="å¯¹æ¯” React Hooks å’Œ Vue Composition API" width=650 height=364></figure><p><strong>ç›®å½•</strong></p><ul><li>åœºæ™¯</li><li>hook çš„æ—¶ä»£æ„ä¹‰</li><li>React Hooks</li><li>Vue Composition API</li><li>å·®åˆ«</li><li>æ€»ç»“</li></ul><hr><h2 id=åœºæ™¯>åœºæ™¯</h2><p>å…ˆç†è§£ä»€ä¹ˆæ˜¯hookï¼Œæ‹¿reactçš„ä»‹ç»æ¥çœ‹ï¼Œå®ƒçš„å®šä¹‰æ˜¯ï¼š</p><blockquote><p>å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ï¼Œè®©ä½ åœ¨å‡½æ•°ç»„ä»¶é‡Œâ€œé’©å…¥â€ React state åŠç”Ÿå‘½å‘¨æœŸç­‰ç‰¹æ€§çš„å‡½æ•°</p></blockquote><p>å¯¹äº Vue æå‡ºçš„æ–°çš„ä¹¦å†™ Vue ç»„ä»¶çš„ APIï¼šComposition API RFCï¼Œä½œç”¨ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥åƒreactä¸€æ ·å«åš vue hooks</p><ul><li>è¯¥ API å—åˆ° React Hooks çš„å¯å‘</li><li>ä½†æœ‰ä¸€äº›æœ‰è¶£çš„å·®å¼‚ï¼Œè§„é¿äº†ä¸€äº›reactçš„é—®é¢˜</li></ul><h2 id=hookçš„æ—¶ä»£æ„ä¹‰>hookçš„æ—¶ä»£æ„ä¹‰</h2><p>æ¡†æ¶æ˜¯æœåŠ¡äºä¸šåŠ¡çš„ï¼Œä¸šåŠ¡ä¸­å¾ˆéš¾é¿å…çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ &ndash; é€»è¾‘å¤ç”¨ï¼ŒåŒæ ·çš„åŠŸèƒ½ï¼ŒåŒæ ·çš„ç»„ä»¶ï¼Œåœ¨ä¸ä¸€æ ·çš„åœºåˆä¸‹ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™ä¸å¾—ä¸å»å†™2+æ¬¡ï¼Œä¸ºäº†é¿å…è€¦åˆï¼Œåæ¥å„å¤§æ¡†æ¶çº·çº·æƒ³å‡ºäº†ä¸€äº›åŠæ³•ï¼Œæ¯”å¦‚ minix, render props, é«˜é˜¶ç»„ä»¶ç­‰å®ç°é€»è¾‘ä¸Šçš„å¤ç”¨ï¼Œä½†æ˜¯éƒ½æœ‰ä¸€äº›é¢å¤–çš„é—®é¢˜</p><ul><li>minix ä¸ç»„ä»¶ä¹‹é—´å­˜åœ¨éšå¼ä¾èµ–ï¼Œå¯èƒ½äº§ç”Ÿå†²çªã€‚å€¾å‘äºå¢åŠ æ›´å¤šçŠ¶æ€ï¼Œé™ä½äº†åº”ç”¨çš„å¯é¢„æµ‹æ€§</li><li>é«˜é˜¶ç»„ä»¶ å¤šå±‚åŒ…è£¹åµŒå¥—ç»„ä»¶ï¼Œå¢åŠ äº†å¤æ‚åº¦å’Œç†è§£æˆæœ¬ï¼Œå¯¹äºå¤–å±‚æ˜¯é»‘ç›’</li><li>Render Props ä½¿ç”¨ç¹çï¼Œä¸å¥½ç»´æŠ¤, ä»£ç ä½“ç§¯è¿‡å¤§ï¼ŒåŒæ ·å®¹æ˜“åµŒå¥—è¿‡æ·±</li><li>&mldr;</li></ul><p>hookçš„å‡ºç°æ˜¯åˆ’æ—¶ä»£çš„ï¼Œé€šè¿‡functionæŠ½ç¦»çš„æ–¹å¼ï¼Œå®ç°äº†å¤æ‚é€»è¾‘çš„å†…éƒ¨å°è£…ï¼š</p><ul><li>é€»è¾‘ä»£ç çš„å¤ç”¨</li><li>å‡å°äº†ä»£ç ä½“ç§¯</li><li>æ²¡æœ‰thisçš„çƒ¦æ¼</li></ul><h2 id=react-hooks>React Hooks</h2><p>React Hooks å…è®¸ä½  &ldquo;å‹¾å…¥&rdquo; è¯¸å¦‚ç»„ä»¶çŠ¶æ€å’Œå‰¯ä½œç”¨å¤„ç†ç­‰ React åŠŸèƒ½ä¸­ã€‚Hooks åªèƒ½ç”¨åœ¨å‡½æ•°ç»„ä»¶ä¸­ï¼Œå¹¶å…è®¸æˆ‘ä»¬åœ¨ä¸éœ€è¦åˆ›å»ºç±»çš„æƒ…å†µä¸‹å°†çŠ¶æ€ã€å‰¯ä½œç”¨å¤„ç†å’Œæ›´å¤šä¸œè¥¿å¸¦å…¥ç»„ä»¶ä¸­ã€‚</p><p>React æ ¸å¿ƒå›¢é˜Ÿå¥‰ä¸Šçš„é‡‡çº³ç­–ç•¥æ˜¯ä¸åå¯¹ç±»ç»„ä»¶ï¼Œæ‰€ä»¥ä½ å¯ä»¥å‡çº§ React ç‰ˆæœ¬ã€åœ¨æ–°ç»„ä»¶ä¸­å¼€å§‹å°è¯• Hooksï¼Œå¹¶ä¿æŒæ—¢æœ‰ç»„ä»¶ä¸åšä»»ä½•æ›´æ”¹</p><p>ä¾‹å­ï¼š</p><pre><code>import React, { useState, useEffect } from &quot;react&quot;;

const NoteForm = ({ onNoteSent }) =&gt; {
  const [currentNote, setCurrentNote] = useState(&quot;&quot;);
  useEffect(() =&gt; {
    console.log(`Current note: ${currentNote}`);
  });
  return (
    &lt;form
      onSubmit={e =&gt; {
        onNoteSent(currentNote);
        setCurrentNote(&quot;&quot;);
        e.preventDefault();
      }}
    &gt;
      &lt;label&gt;
        &lt;span&gt;Note: &lt;/span&gt;
        &lt;input
          value={currentNote}
          onChange={e =&gt; {
            const val = e.target.value &amp;&amp; e.target.value.toUpperCase()[0];
            const validNotes = [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;];
            setCurrentNote(validNotes.includes(val) ? val : &quot;&quot;);
          }}
        /&gt;
      &lt;/label&gt;
      &lt;button type=&quot;submit&quot;&gt;Send&lt;/button&gt;
    &lt;/form&gt;
  );
};
</code></pre><ul><li>useState å’Œ useEffect æ˜¯ React Hooks ä¸­çš„ä¸€äº›ä¾‹å­ï¼Œä½¿å¾—å‡½æ•°ç»„ä»¶ä¸­ä¹Ÿèƒ½å¢åŠ çŠ¶æ€å’Œè¿è¡Œå‰¯ä½œç”¨</li><li>è¿˜æœ‰æ›´å¤šå…¶ä»– hooksï¼Œ ç”šè‡³èƒ½è‡ªå®šä¹‰ä¸€ä¸ªï¼Œhooks æ‰“å¼€äº†ä»£ç å¤ç”¨æ€§å’Œæ‰©å±•æ€§çš„æ–°å¤§é—¨</li></ul><h3 id=vue-composition-api>Vue Composition API</h3><p>Vue Composition API å›´ç»•ä¸€ä¸ªæ–°çš„ç»„ä»¶é€‰é¡¹ setup è€Œåˆ›å»ºã€‚<code>setup()</code> ä¸º Vue ç»„ä»¶æä¾›äº†çŠ¶æ€ã€è®¡ç®—å€¼ã€watcher å’Œç”Ÿå‘½å‘¨æœŸé’©å­</p><p>API å¹¶æ²¡æœ‰è®©åŸæ¥çš„ APIï¼ˆç°åœ¨è¢«ç§°ä½œ &ldquo;Options-based API&rdquo;ï¼‰æ¶ˆå¤±ã€‚å…è®¸å¼€å‘è€… ç»“åˆä½¿ç”¨æ–°æ—§ä¸¤ç§ APIsã€‚å¯ä»¥åœ¨ Vue 2.x ä¸­é€šè¿‡ <code>@vue/composition-api</code> æ’ä»¶å°è¯•æ–° API</p><p>ä¾‹å­ï¼š</p><pre><code>&lt;template&gt;
  &lt;form @submit=&quot;handleSubmit&quot;&gt;
    &lt;label&gt;
      &lt;span&gt;Note:&lt;/span&gt;
      &lt;input v-model=&quot;currentNote&quot; @input=&quot;handleNoteInput&quot;&gt;
    &lt;/label&gt;
    &lt;button type=&quot;submit&quot;&gt;Send&lt;/button&gt;
  &lt;/form&gt;
&lt;/template&gt;
&lt;script&gt;
import { ref, watch } from &quot;vue&quot;;
export default {
  props: [&quot;divRef&quot;],
  setup(props, context) {
    const currentNote = ref(&quot;&quot;);
    const handleNoteInput = e =&gt; {
      const val = e.target.value &amp;&amp; e.target.value.toUpperCase()[0];
      const validNotes = [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;];
      currentNote.value = validNotes.includes(val) ? val : &quot;&quot;;
    };
    const handleSubmit = e =&gt; {
      context.emit(&quot;note-sent&quot;, currentNote.value);
      currentNote.value = &quot;&quot;;
      e.preventDefault();
    };
    return {
      currentNote,
      handleNoteInput,
      handleSubmit,
    };
  }
};
&lt;/script&gt;
</code></pre><h2 id=å·®åˆ«>å·®åˆ«</h2><h3 id=åŸç†>åŸç†</h3><p>React hook åº•å±‚æ˜¯åŸºäºé“¾è¡¨å®ç°ï¼Œè°ƒç”¨çš„æ¡ä»¶æ˜¯æ¯æ¬¡ç»„ä»¶è¢«renderçš„æ—¶å€™éƒ½ä¼šé¡ºåºæ‰§è¡Œæ‰€æœ‰çš„hooksï¼Œæ‰€ä»¥ä¸‹é¢çš„ä»£ç ä¼šæŠ¥é”™</p><pre><code>function App(){
  const [name, setName] = useState('demo');
  if(condition){
    const [val, setVal] = useState('');    
  }
}
</code></pre><p>å› ä¸ºåº•å±‚æ˜¯é“¾è¡¨ï¼Œæ¯ä¸€ä¸ªhookçš„nextæ˜¯æŒ‡å‘ä¸‹ä¸€ä¸ªhookçš„ï¼Œifä¼šå¯¼è‡´é¡ºåºä¸æ­£ç¡®ï¼Œä»è€Œå¯¼è‡´æŠ¥é”™ï¼Œæ‰€ä»¥reactæ˜¯ä¸å…è®¸è¿™æ ·ä½¿ç”¨hookçš„ã€‚</p><p>vue hook åªä¼šè¢«æ³¨å†Œè°ƒç”¨ä¸€æ¬¡ï¼Œvue èƒ½é¿å¼€è¿™äº›éº»çƒ¦çš„é—®é¢˜ï¼ŒåŸå› åœ¨äºå®ƒå¯¹æ•°æ®çš„å“åº”æ˜¯åŸºäºproxyçš„ï¼Œå¯¹æ•°æ®ç›´æ¥ä»£ç†è§‚å¯Ÿã€‚è¿™ç§åœºæ™¯ä¸‹ï¼Œåªè¦ä»»ä½•ä¸€ä¸ªæ›´æ”¹dataçš„åœ°æ–¹ï¼Œç›¸å…³çš„functionæˆ–è€…templateéƒ½ä¼šè¢«é‡æ–°è®¡ç®—ï¼Œå› æ­¤é¿å¼€äº†reactå¯èƒ½é‡åˆ°çš„æ€§èƒ½ä¸Šçš„é—®é¢˜</p><blockquote><p>reactæ•°æ®æ›´æ”¹çš„æ—¶å€™ï¼Œä¼šå¯¼è‡´é‡æ–°renderï¼Œé‡æ–°renderåˆä¼šé‡æ–°æŠŠhooksé‡æ–°æ³¨å†Œä¸€æ¬¡ï¼Œæ‰€ä»¥reactçš„ä¸Šæ‰‹éš¾åº¦æ›´é«˜ä¸€äº›</p></blockquote><p>å½“ç„¶reactå¯¹è¿™äº›éƒ½æœ‰è‡ªå·±çš„è§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚useCallbackï¼ŒuseMemoç­‰hookçš„ä½œç”¨ï¼Œè¿™äº›å®˜ç½‘éƒ½æœ‰ä»‹ç»</p><h3 id=ä»£ç çš„æ‰§è¡Œ>ä»£ç çš„æ‰§è¡Œ</h3><p>Vue ä¸­ï¼Œâ€œé’©å­â€å°±æ˜¯ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•<br></p><ol><li>Vue Composition API çš„Â setup()Â æ™šäºÂ beforeCreateÂ é’©å­ï¼Œæ—©äºÂ createdÂ é’©å­è¢«è°ƒç”¨</li><li>React hooks ä¼šåœ¨ç»„ä»¶æ¯æ¬¡æ¸²æŸ“æ—¶å€™è¿è¡Œï¼Œè€Œ VueÂ setup()Â åªåœ¨ç»„ä»¶åˆ›å»ºæ—¶è¿è¡Œä¸€æ¬¡</li></ol><p>ç”±äº React hooks ä¼šå¤šæ¬¡è¿è¡Œï¼Œæ‰€ä»¥ render æ–¹æ³•å¿…é¡»éµå®ˆæŸäº›è§„åˆ™ï¼Œæ¯”å¦‚: ä¸è¦åœ¨å¾ªç¯å†…éƒ¨ã€æ¡ä»¶è¯­å¥ä¸­æˆ–åµŒå¥—å‡½æ•°é‡Œè°ƒç”¨ Hooks</p><pre><code>// React æ–‡æ¡£ä¸­çš„ç¤ºä¾‹ä»£ç ï¼š
function Form() {
  // 1. Use the name state variable
  const [name, setName] = useState('Mary');

  // 2. Use an effect for persisting the form
  if (name !== '') {
    useEffect(function persistForm() {
      localStorage.setItem('formData', name);
    });
  }
  // 3. Use the surname state variable
  const [surname, setSurname] = useState('Poppins');

  // 4. Use an effect for updating the title
  useEffect(function updateTitle() {
    document.title = `${name} ${surname}`;
  });
  // ...
}
</code></pre><p>å¦‚æœæƒ³è¦åœ¨ name ä¸ºç©ºæ—¶ä¹Ÿè¿è¡Œå¯¹åº”çš„å‰¯ä½œç”¨, å¯ä»¥ç®€å•çš„å°†æ¡ä»¶åˆ¤æ–­è¯­å¥ç§»å…¥ useEffect å›è°ƒå†…éƒ¨ï¼š</p><pre><code>useEffect(function persistForm() {
  if (name !== '') {
    localStorage.setItem('formData', name);
  }
});
</code></pre><p>å¯¹äºä»¥ä¸Šçš„å®ç°ï¼ŒVue å†™æ³•å¦‚ä¸‹ï¼š</p><pre><code>export default {
  setup() {
    // 1. Use the name state variable
    const name = ref(&quot;Mary&quot;);
    // 2. Use a watcher for persisting the form
    if(name.value !== '') {
      watch(function persistForm() =&gt; {
        localStorage.setItem('formData', name.value);
      });
    }
   // 3. Use the surname state variable
   const surname = ref(&quot;Poppins&quot;);
   // 4. Use a watcher for updating the title
   watch(function updateTitle() {
     document.title = `${name.value} ${surname.value}`;
   });
  }
}
</code></pre><p>Vue ä¸­ setup() åªä¼šè¿è¡Œä¸€æ¬¡ï¼Œå¯ä»¥å°† Composition API ä¸­ä¸åŒçš„å‡½æ•° (reactiveã€refã€computedã€watchã€ç”Ÿå‘½å‘¨æœŸé’©å­ç­‰) ä½œä¸ºå¾ªç¯æˆ–æ¡ä»¶è¯­å¥çš„ä¸€éƒ¨åˆ†</p><p>ä½† if è¯­å¥ å’Œ react hooks ä¸€æ ·åªè¿è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥å®ƒåœ¨ name æ”¹å˜æ—¶ä¹Ÿæ— æ³•ä½œå‡ºååº”ï¼Œé™¤éæˆ‘ä»¬å°†å…¶åŒ…å«åœ¨ watch å›è°ƒçš„å†…éƒ¨</p><pre><code>watch(function persistForm() =&gt; {
  if(name.value !== '') {
    localStorage.setItem('formData', name.value);
  }
});
</code></pre><h3 id=å£°æ˜çŠ¶æ€declaring-state>å£°æ˜çŠ¶æ€(Declaring state)</h3><h5 id=react>react</h5><p>useState æ˜¯ React Hooks å£°æ˜çŠ¶æ€çš„ä¸»è¦é€”å¾„</p><ul><li>å¯ä»¥å‘è°ƒç”¨ä¸­ä¼ å…¥ä¸€ä¸ªåˆå§‹å€¼ä½œä¸ºå‚æ•°</li><li>å¦‚æœåˆå§‹å€¼çš„è®¡ç®—ä»£ä»·æ¯”è¾ƒæ˜‚è´µï¼Œä¹Ÿå¯ä»¥å°†å…¶è¡¨è¾¾ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå°±åªä¼šåœ¨åˆæ¬¡æ¸²æŸ“æ—¶æ‰ä¼šè¢«æ‰§è¡Œ</li></ul><p>useState() è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€é¡¹æ˜¯ stateï¼Œç¬¬äºŒé¡¹æ˜¯ä¸€ä¸ª setter å‡½æ•°</p><pre><code>const [name, setName] = useState(&quot;Mary&quot;);
const [age, setAge] = useState(25);
console.log(`${name} is ${age} years old.`);
</code></pre><p>useReducer æ˜¯ä¸ªæœ‰ç”¨çš„æ›¿ä»£é€‰æ‹©ï¼Œå…¶å¸¸è§å½¢å¼æ˜¯æ¥å—ä¸€ä¸ª Redux æ ·å¼çš„ reducer å‡½æ•°å’Œä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼š</p><pre><code>const initialState = {count: 0};

function reducer(state, action) {
  switch (action.type) {
    case 'increment':
      return {count: state.count + 1};
    case 'decrement':
      return {count: state.count - 1};
    default:
      throw new Error();
  }
}
const [state, dispatch] = useReducer(reducer, initialState);

dispatch({type: 'increment'}); // stateÂ å°±ä¼šå˜ä¸ºÂ {count: 1}
</code></pre><blockquote><p>useReducerÂ è¿˜æœ‰ä¸€ç§Â å»¶è¿Ÿåˆå§‹åŒ–Â çš„å½¢å¼ï¼Œä¼ å…¥ä¸€ä¸ª init å‡½æ•°ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°</p></blockquote><h5 id=vue>Vue</h5><p>Vue ä½¿ç”¨ä¸¤ä¸ªä¸»è¦çš„å‡½æ•°æ¥å£°æ˜çŠ¶æ€ï¼šrefÂ å’ŒÂ reactiveã€‚</p><p>ref()Â è¿”å›ä¸€ä¸ªååº”å¼å¯¹è±¡ï¼Œå…¶å†…éƒ¨å€¼å¯é€šè¿‡å…¶Â valueÂ å±æ€§è¢«è®¿é—®åˆ°ã€‚å¯ä»¥å°†å…¶ç”¨äºåŸºæœ¬ç±»å‹ï¼Œä¹Ÿå¯ä»¥ç”¨äºå¯¹è±¡</p><pre><code>const name = ref(&quot;Mary&quot;);
const age = ref(25);
watch(() =&gt; {
  console.log(`${name.value} is ${age.value} years old.`);
});
</code></pre><p>reactive() åªå°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå…¶è¾“å…¥å¹¶è¿”å›ä¸€ä¸ªå¯¹å…¶çš„ååº”å¼ä»£ç†</p><pre><code>const state = reactive({
  name: &quot;Mary&quot;,
  age: 25,
});
watch(() =&gt; {
  console.log(`${state.name} is ${state.age} years old.`);
});
</code></pre><p><strong>æ³¨æ„</strong>ï¼š</p><ul><li>ä½¿ç”¨Â refÂ æ—¶éœ€è¦ ç”¨Â valueÂ å±æ€§è®¿é—®å…¶åŒ…å«çš„å€¼ï¼ˆé™¤éåœ¨ template ä¸­ï¼ŒVue å…è®¸ä½ çœç•¥å®ƒï¼‰</li><li>ç”¨Â reactiveÂ æ—¶ï¼Œè¦æ³¨æ„å¦‚æœä½¿ç”¨äº†å¯¹è±¡è§£æ„ï¼ˆdestructureï¼‰ï¼Œä¼šå¤±å»å…¶ååº”æ€§ã€‚æ‰€ä»¥éœ€è¦å®šä¹‰ä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶é€šè¿‡å…¶è®¿é—®çŠ¶æ€å±æ€§ã€‚</li></ul><p>æ€»ç»“ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°çš„å¤„ç†æ–¹å¼ï¼š</p><ul><li>åƒåœ¨æ­£å¸¸çš„ JavaScript ä¸­å£°æ˜åŸºæœ¬ç±»å‹å˜é‡å’Œå¯¹è±¡å˜é‡é‚£æ ·å»ä½¿ç”¨Â refÂ å’ŒÂ reactiveÂ å³å¯</li><li>åªè¦ç”¨åˆ°Â reactiveÂ çš„æ—¶å€™ï¼Œè¦è®°ä½ä» composition å‡½æ•°ä¸­è¿”å›ååº”å¼å¯¹è±¡æ—¶å¾—ä½¿ç”¨Â toRefs()ã€‚è¿™æ ·åšå‡å°‘äº†è¿‡å¤šä½¿ç”¨Â refÂ æ—¶çš„å¼€é”€</li></ul><pre><code>// toRefs() åˆ™å°†ååº”å¼å¯¹è±¡è½¬æ¢ä¸ºæ™®é€šå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸Šçš„æ‰€æœ‰å±æ€§éƒ½è‡ªåŠ¨è½¬æ¢ä¸º ref
function useFeatureX() {
  const state = reactive({
    foo: 1,
    bar: 2
  })
 
  return toRefs(state)
}
 
const {foo, bar} = useFeatureX();
</code></pre><h3 id=å¦‚ä½•è·Ÿè¸ªä¾èµ–how-to-track-dependencies>å¦‚ä½•è·Ÿè¸ªä¾èµ–(How to track dependencies)</h3><blockquote><p>React ä¸­çš„Â useEffectÂ hook å…è®¸åœ¨æ¯æ¬¡æ¸²æŸ“ä¹‹åè¿è¡ŒæŸäº›å‰¯ä½œç”¨ï¼ˆå¦‚è¯·æ±‚æ•°æ®æˆ–ä½¿ç”¨ storage ç­‰ Web APIsï¼‰ï¼Œå¹¶åœ¨ä¸‹æ¬¡æ‰§è¡Œå›è°ƒä¹‹å‰æˆ–å½“ç»„ä»¶å¸è½½æ—¶è¿è¡Œä¸€äº›æ¸…ç†å·¥ä½œ</p></blockquote><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ç”¨Â useEffectÂ æ³¨å†Œçš„å‡½æ•°éƒ½ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“ä¹‹åè¿è¡Œï¼Œä½†å¯ä»¥å®šä¹‰çœŸå®ä¾èµ–çš„çŠ¶æ€å’Œå±æ€§ï¼Œä»¥ä½¿ React åœ¨ç›¸å…³ä¾èµ–æ²¡æœ‰æ”¹å˜çš„æƒ…å†µä¸‹ï¼ˆå¦‚ç”± state ä¸­çš„å…¶ä»–éƒ¨åˆ†å¼•èµ·çš„æ¸²æŸ“ï¼‰è·³è¿‡æŸäº›Â useEffectÂ hook æ‰§è¡Œ</p><pre><code>// ä¼ é€’ä¸€ä¸ªä¾èµ–é¡¹çš„æ•°ç»„ä½œä¸ºÂ useEffectÂ hook çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œåªæœ‰å½“Â nameÂ æ”¹å˜æ—¶æ‰ä¼šæ›´æ–°Â localStorage
function Form() {
  const [name, setName] = useState('Mary');
  const [surname, setSurname] = useState('Poppins');
  useEffect(function persistForm() {
      localStorage.setItem('formData', name);
  }, [name]);

  // ...
}
</code></pre><p>æ˜¾ç„¶ï¼Œä½¿ç”¨ React Hooks æ—¶å¿˜è®°åœ¨ä¾èµ–é¡¹æ•°ç»„ä¸­è¯¦å°½åœ°å£°æ˜æ‰€æœ‰ä¾èµ–é¡¹å¾ˆå®¹æ˜“å‘ç”Ÿï¼Œä¼šå¯¼è‡´Â useEffectÂ å›è°ƒ &ldquo;ä»¥ä¾èµ–å’Œå¼•ç”¨äº†ä¸Šä¸€æ¬¡æ¸²æŸ“çš„é™ˆæ—§æ•°æ®è€Œéæœ€æ–°æ•°æ®&rdquo; ä»è€Œæ— æ³•è¢«æ›´æ–°è€Œå‘Šç»ˆ</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>eslint-plugin-react-hooksÂ åŒ…å«äº†ä¸€æ¡ lint æç¤ºå…³äºä¸¢å¤±ä¾èµ–é¡¹çš„è§„åˆ™</li><li>useCallbackÂ å’ŒÂ useMemoÂ ä¹Ÿä½¿ç”¨ä¾èµ–é¡¹æ•°ç»„å‚æ•°ï¼Œä»¥åˆ†åˆ«å†³å®šå…¶æ˜¯å¦åº”è¯¥è¿”å›ç¼“å­˜è¿‡çš„ï¼ˆ memoizedï¼‰ä¸ä¸Šä¸€æ¬¡æ‰§è¡Œç›¸åŒçš„ç‰ˆæœ¬çš„å›è°ƒæˆ–å€¼ã€‚</li></ul><p>åœ¨ Vue Composition API çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨Â watch()Â æ‰§è¡Œå‰¯ä½œç”¨ä»¥å“åº”çŠ¶æ€æˆ–å±æ€§çš„æ”¹å˜ã€‚ä¾èµ–ä¼šè¢«è‡ªåŠ¨è·Ÿè¸ªï¼Œæ³¨å†Œè¿‡çš„å‡½æ•°ä¹Ÿä¼šåœ¨ä¾èµ–æ”¹å˜æ—¶è¢«ååº”æ€§çš„è°ƒç”¨</p><pre><code>export default {
  setup() {
    const name = ref(&quot;Mary&quot;);
    const lastName = ref(&quot;Poppins&quot;);
    watch(function persistForm() =&gt; {
      localStorage.setItem('formData', name.value);
    });
  }
}
</code></pre><h3 id=è®¿é—®ç»„ä»¶ç”Ÿå‘½å‘¨æœŸaccess-to-the-lifecycle-of-the-component>è®¿é—®ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ(Access to the lifecycle of the component)</h3><p>Hooks åœ¨å¤„ç† React ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸã€å‰¯ä½œç”¨å’ŒçŠ¶æ€ç®¡ç†æ—¶è¡¨ç°å‡ºäº†å¿ƒç†æ¨¡å¼ä¸Šçš„å®Œå…¨è½¬å˜ã€‚ React æ–‡æ¡£ä¸­ä¹ŸæŒ‡å‡ºï¼š</p><blockquote><p>å¦‚æœä½ ç†Ÿæ‚‰ React ç±»ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œé‚£ä¹ˆå¯ä»¥å°† useEffect Hook è§†ä¸º componentDidMountã€componentDidUpdate åŠ componentWillUnmount çš„åˆé›†</p></blockquote><pre><code>useEffect(() =&gt; {
  console.log(&quot;This will only run after initial render.&quot;);
  return () =&gt; { console.log(&quot;This will only run when component will unmount.&quot;); };
}, []);
</code></pre><p>å¼ºè°ƒçš„æ˜¯ï¼Œä½¿ç”¨ React Hooks æ—¶åœæ­¢ä»ç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„è§’åº¦æ€è€ƒï¼Œè€Œæ˜¯è€ƒè™‘å‰¯ä½œç”¨ä¾èµ–ä»€ä¹ˆçŠ¶æ€ï¼Œæ‰æ›´ç¬¦åˆä¹ æƒ¯</p><p>Vue Component API é€šè¿‡Â onMountedã€onUpdatedÂ å’ŒÂ onBeforeUnmountï¼š</p><pre><code>setup() {
  onMounted(() =&gt; {
    console.log(`This will only run after initial render.`); 
  });
  onBeforeUnmount(() =&gt; {
    console.log(`This will only run when component will unmount.`);
  });
}
</code></pre><p>æ•…åœ¨ Vue çš„æƒ…å†µä¸‹çš„å¿ƒç†æ¨¡å¼è½¬å˜æ›´å¤šåœ¨åœæ­¢é€šè¿‡<font color=#d10>ç»„ä»¶é€‰é¡¹</font>ï¼ˆdataã€computed, watchã€methodsã€ç”Ÿå‘½å‘¨æœŸé’©å­ç­‰ï¼‰ç®¡ç†ä»£ç ï¼Œè¦è½¬å‘ç”¨ä¸åŒå‡½æ•°å¤„ç†å¯¹åº”çš„ç‰¹æ€§</p><h3 id=è‡ªå®šä¹‰ä»£ç custom-code>è‡ªå®šä¹‰ä»£ç (Custom code)</h3><blockquote><p>React å›¢é˜Ÿèšç„¦äº Hooks ä¸Šçš„åŸå› ä¹‹ä¸€ï¼ŒCustom Hooks æ˜¯å¯ä»¥æ›¿ä»£ä¹‹å‰ç¤¾åŒºä¸­é‡‡çº³çš„è¯¸å¦‚Â Higher-Order ComponentsÂ æˆ–Â Render PropsÂ ç­‰æä¾›ç»™å¼€å‘è€…ç¼–å†™å¯å¤ç”¨ä»£ç çš„ï¼Œä¸€ç§æ›´ä¼˜ç§€çš„æ–¹å¼</p></blockquote><p>Custom Hooks å°±æ˜¯æ™®é€šçš„ JavaScript å‡½æ•°ï¼Œåœ¨å…¶å†…éƒ¨åˆ©ç”¨äº† React Hooksã€‚å®ƒéµå®ˆçš„ä¸€ä¸ªçº¦å®šæ˜¯å…¶å‘½ååº”è¯¥ä»¥Â useÂ å¼€å¤´ï¼Œä»¥æ˜ç¤ºè¿™æ˜¯è¢«ç”¨ä½œä¸€ä¸ª hook çš„ã€‚</p><pre><code>// custom hook - ç”¨äºå½“ value æ”¹å˜æ—¶å‘æ§åˆ¶å°æ‰“å°æ—¥å¿—
export function useDebugState(label, initialValue) {
  const [value, setValue] = useState(initialValue);
  useEffect(() =&gt; {
    console.log(`${label}: `, value);
  }, [label, value]);
  return [value, setValue];
}

// è°ƒç”¨ 
const [name, setName] = useDebugState(&quot;Name&quot;, &quot;Mary&quot;);
</code></pre><p>Vue ä¸­ï¼Œç»„åˆå¼å‡½æ•°ï¼ˆComposition Functionsï¼‰ä¸ Hooks åœ¨é€»è¾‘æå–å’Œé‡ç”¨çš„ç›®æ ‡ä¸Šæ˜¯ä¸€è‡´çš„åœ¨ Vue ä¸­å®ç°ä¸€ä¸ªç±»ä¼¼çš„ useDebugState ç»„åˆå¼å‡½æ•°</p><pre><code>export function useDebugState(label, initialValue) {
  const state = ref(initialValue);
  watch(() =&gt; {
    console.log(`${label}: `, state.value);
  });
  return state;
}

// elsewhere:
const name = useDebugState(&quot;Name&quot;, &quot;Mary&quot;);
</code></pre><blockquote><p>æ³¨æ„ï¼šæ ¹æ®çº¦å®šï¼Œç»„åˆå¼å‡½æ•°ä¹Ÿåƒ React Hooks ä¸€æ ·ä½¿ç”¨ use ä½œä¸ºå‰ç¼€ä»¥æ˜ç¤ºä½œç”¨ï¼Œå¹¶ä¸”è¡¨é¢è¯¥å‡½æ•°ç”¨äº setup() ä¸­</p></blockquote><h3 id=refs>Refs</h3><p>React çš„ useRef å’Œ Vue çš„ ref éƒ½å…è®¸ä½ å¼•ç”¨ä¸€ä¸ªå­ç»„ä»¶ æˆ– è¦é™„åŠ åˆ°çš„ DOM å…ƒç´ ã€‚</p><p>Reactï¼š</p><pre><code>const MyComponent = () =&gt; {
  const divRef = useRef(null);
  useEffect(() =&gt; {
    console.log(&quot;div: &quot;, divRef.current)
  }, [divRef]);

  return (
    &lt;div ref={divRef}&gt;
      &lt;p&gt;My div&lt;/p&gt;
    &lt;/div&gt;
  )
}
</code></pre><p>Vue:</p><pre><code>export default {
  setup() {
    const divRef = ref(null);
    onMounted(() =&gt; {
      console.log(&quot;div: &quot;, divRef.value);
    });

    return () =&gt; (
      &lt;div ref={divRef}&gt;
        &lt;p&gt;My div&lt;/p&gt;
      &lt;/div&gt;
    )
  }
}
</code></pre><h3 id=é™„åŠ çš„å‡½æ•°additional-functions>é™„åŠ çš„å‡½æ•°(Additional functions)</h3><p>React Hooks åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½ä¼šè¿è¡Œï¼Œæ²¡æœ‰ ä¸€ä¸ªç­‰ä»·äº Vue ä¸­ computed å‡½æ•°çš„æ–¹æ³•ã€‚æ‰€ä»¥ä½ å¯ä»¥è‡ªç”±åœ°å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå…¶å€¼åŸºäºçŠ¶æ€æˆ–å±æ€§ï¼Œå¹¶å°†æŒ‡å‘æ¯æ¬¡æ¸²æŸ“åçš„æœ€æ–°å€¼ï¼š</p><pre><code>const [name, setName] = useState(&quot;Mary&quot;);
const [age, setAge] = useState(25);
const description = `${name} is ${age} years old`;
</code></pre><p>Vue ä¸­ï¼Œsetup() åªè¿è¡Œä¸€æ¬¡ã€‚å› æ­¤éœ€è¦å®šä¹‰è®¡ç®—å±æ€§ï¼Œå…¶åº”è¯¥è§‚å¯ŸæŸäº›çŠ¶æ€æ›´æ”¹å¹¶ä½œå‡ºç›¸åº”çš„æ›´æ–°ï¼š</p><pre><code>const name = ref(&quot;Mary&quot;);
const age = ref(25);
const description = computed(() =&gt; `${name.value} is ${age.value} years old`);
</code></pre><p>è®¡ç®—ä¸€ä¸ªå€¼å¼€é”€æ¯”è¾ƒæ˜‚è´µã€‚ä½ ä¸ä¼šæƒ³åœ¨ç»„ä»¶æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½è®¡ç®—å®ƒã€‚React åŒ…å«äº†é’ˆå¯¹è¿™ç‚¹çš„ <code>useMemo hook</code>ï¼š</p><pre><code>function fibNaive(n) {
  if (n &lt;= 1) return n;
  return fibNaive(n - 1) + fibNaive(n - 2);
}
const Fibonacci = () =&gt; {
  const [nth, setNth] = useState(1);
  const nthFibonacci = useMemo(() =&gt; fibNaive(nth), [nth]);
  return (
    &lt;section&gt;
      &lt;label&gt;
        Number:
        &lt;input
          type=&quot;number&quot;
          value={nth}
          onChange={e =&gt; setNth(e.target.value)}
        /&gt;
      &lt;/label&gt;
      &lt;p&gt;nth Fibonacci number: {nthFibonacci}&lt;/p&gt;
    &lt;/section&gt;
  );
};
</code></pre><p><strong>React å»ºè®®ä½ ä½¿ç”¨Â useMemoÂ ä½œä¸ºä¸€ä¸ªæ€§èƒ½ä¼˜åŒ–æ‰‹æ®µ, è€Œéä¸€ä¸ªä»»ä½•ä¸€ä¸ªä¾èµ–é¡¹æ”¹å˜ä¹‹å‰çš„ç¼“å­˜å€¼</strong></p><blockquote><p>React advice you to use useMemo as a performance optimization and not as a guarantee that the value will remain memoized</p></blockquote><p>Vue çš„Â computedÂ æ‰§è¡Œè‡ªåŠ¨çš„ä¾èµ–è¿½è¸ªï¼Œæ‰€ä»¥å®ƒä¸éœ€è¦ä¸€ä¸ªä¾èµ–é¡¹æ•°ç»„</p><h3 id=context-å’Œ-provideinject>Context å’Œ provide/inject</h3><p>React ä¸­çš„Â useContextÂ hookï¼Œå¯ä»¥ä½œä¸ºä¸€ç§è¯»å–ç‰¹å®šä¸Šä¸‹æ–‡å½“å‰å€¼çš„æ–°æ–¹å¼ã€‚è¿”å›çš„å€¼é€šå¸¸ç”±æœ€é è¿‘çš„ä¸€å±‚Â <code>&lt;MyContext.Provider></code>Â ç¥–å…ˆæ ‘çš„Â valueÂ å±æ€§ç¡®å®š</p><pre><code>// context object
const ThemeContext = React.createContext('light');

// provider
&lt;ThemeContext.Provider value=&quot;dark&quot;&gt;

// consumer
const theme = useContext(ThemeContext);
</code></pre><p>Vue ä¸­ç±»ä¼¼çš„ API å« <code>provide/inject</code>ã€‚åœ¨ Vue 2.x ä¸­ä½œä¸ºç»„ä»¶é€‰é¡¹å­˜åœ¨ï¼Œåœ¨ Composition API ä¸­å¢åŠ äº†ä¸€å¯¹ç”¨åœ¨ setup() ä¸­çš„ <code>provide å’Œ inject</code> å‡½æ•°ï¼š</p><pre><code>// key to provide
const ThemeSymbol = Symbol();

// provider
provide(ThemeSymbol, ref(&quot;dark&quot;));

// consumer
const value = inject(ThemeSymbol);
</code></pre><blockquote><p>å¦‚æœä½ æƒ³ä¿æŒååº”æ€§ï¼Œå¿…é¡»æ˜ç¡®æä¾›ä¸€ä¸ª ref/reactive ä½œä¸ºå€¼</p></blockquote><h3 id=åœ¨æ¸²æŸ“ä¸Šä¸‹æ–‡ä¸­æš´éœ²å€¼exposing-values-to-render-context>åœ¨æ¸²æŸ“ä¸Šä¸‹æ–‡ä¸­æš´éœ²å€¼(Exposing values to render context)</h3><p><strong>åœ¨ React çš„æƒ…å†µä¸‹</strong><br></p><ul><li>æ‰€æœ‰ hooks ä»£ç éƒ½åœ¨ç»„ä»¶ä¸­å®šä¹‰</li><li>ä¸”ä½ å°†åœ¨åŒä¸€ä¸ªå‡½æ•°ä¸­è¿”å›è¦æ¸²æŸ“çš„ React å…ƒç´ </li></ul><p>æ‰€ä»¥ä½ å¯¹ä½œç”¨åŸŸä¸­çš„ä»»ä½•å€¼æ‹¥æœ‰å®Œå…¨è®¿é—®èƒ½åŠ›ï¼Œå°±åƒåœ¨ä»»ä½• JavaScript ä»£ç ä¸­çš„ä¸€æ ·ï¼š</p><pre><code>const Fibonacci = () =&gt; {
  const [nth, setNth] = useState(1);
  const nthFibonacci = useMemo(() =&gt; fibNaive(nth), [nth]);
  return (
    &lt;section&gt;
      &lt;label&gt;
        Number:
        &lt;input
          type=&quot;number&quot;
          value={nth}
          onChange={e =&gt; setNth(e.target.value)}
        /&gt;
      &lt;/label&gt;
      &lt;p&gt;nth Fibonacci number: {nthFibonacci}&lt;/p&gt;
    &lt;/section&gt;
  );
};
</code></pre><p><strong>Vue çš„æƒ…å†µä¸‹</strong><br></p><ul><li>ç¬¬ä¸€ï¼Œåœ¨Â templateÂ æˆ–Â renderÂ é€‰é¡¹ä¸­å®šä¹‰æ¨¡æ¿</li><li>ç¬¬äºŒï¼Œä½¿ç”¨å•æ–‡ä»¶ç»„ä»¶ï¼Œå°±è¦ä»Â setup()Â ä¸­è¿”å›ä¸€ä¸ªåŒ…å«äº†ä½ æƒ³è¾“å‡ºåˆ°æ¨¡æ¿ä¸­çš„æ‰€æœ‰å€¼çš„å¯¹è±¡</li></ul><blockquote><p>ç”±äºè¦æš´éœ²çš„å€¼å¾ˆå¯èƒ½è¿‡å¤šï¼Œè¿”å›è¯­å¥ä¹Ÿå®¹æ˜“å˜å¾—å†—é•¿</p></blockquote><pre><code>&lt;template&gt;
  &lt;section&gt;
    &lt;label&gt;
      Number:
      &lt;input
        type=&quot;number&quot;
        v-model=&quot;nth&quot;
      /&gt;
    &lt;/label&gt;
    &lt;p&gt;nth Fibonacci number: {{nthFibonacci}}&lt;/p&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  setup() {
    const nth = ref(1);
    const nthFibonacci = computed(() =&gt; fibNaive(nth.value));
    return { nth, nthFibonacci };
  }
};
&lt;/script&gt;
}
</code></pre><blockquote><p>è¦è¾¾åˆ° React åŒæ ·ç®€æ´è¡¨ç°çš„ä¸€ç§æ–¹å¼æ˜¯ä» setup() è‡ªèº«ä¸­è¿”å›ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ã€‚ä¸è¿‡ï¼Œæ¨¡æ¿åœ¨ Vue ä¸­æ˜¯æ›´å¸¸ç”¨çš„ä¸€ç§åšæ³•ï¼Œæ‰€ä»¥æš´éœ²ä¸€ä¸ªåŒ…å«å€¼çš„å¯¹è±¡ï¼Œæ˜¯ä½ ä½¿ç”¨ Vue Composition API æ—¶å¿…ç„¶ä¼šå¤šå¤šé­é‡çš„æƒ…å†µã€‚</p></blockquote><h3 id=æ€»ç»“conclusion>æ€»ç»“(Conclusion)</h3><p>React å’Œ Vueéƒ½æœ‰å±äºå±äºè‡ªå·±çš„â€œæƒŠå–œâ€ï¼Œæ— ä¼˜åŠ£ä¹‹åˆ†ï¼Œè‡ª React Hooks åœ¨ 2018 å¹´è¢«å¼•å…¥ï¼Œç¤¾åŒºåˆ©ç”¨å…¶äº§å‡ºäº†å¾ˆå¤šä¼˜ç§€çš„ä½œå“ï¼Œè‡ªå®šä¹‰ Hooks çš„å¯æ‰©å±•æ€§ä¹Ÿå‚¬ç”Ÿäº†è®¸å¤šå¼€æºè´¡çŒ®ã€‚</p><p>Vue å— React Hooks å¯å‘å°†å…¶è°ƒæ•´ä¸ºé€‚ç”¨äºè‡ªå·±æ¡†æ¶çš„æ–¹å¼ï¼Œè¿™ä¹Ÿæˆä¸ºè¿™äº›<strong>ä¸åŒçš„æŠ€æœ¯å¦‚ä½•æ‹¥æŠ±å˜åŒ–ä¸”åˆ†äº«çµæ„Ÿå’Œè§£å†³æ–¹æ¡ˆçš„æˆåŠŸæ¡ˆä¾‹</strong></p><hr><h3 id=å‚è€ƒ>å‚è€ƒ</h3><ul><li><a href=https://composition-api.vuejs.org/#summary>Composition API RFC</a></li><li><a href=https://reactjs.org/docs/hooks-intro.html>React hooks</a></li><li><a href=https://dev.to/voluntadpear/comparing-react-hooks-with-vue-composition-api-4b32>Comparing React Hooks with Vue Composition API</a></li></ul><hr><p><strong>æœ€åï¼Œ å¸Œæœ›å¤§å®¶æ—©æ—¥å®ç°ï¼šæˆä¸ºå‰ç«¯é«˜æ‰‹çš„ä¼Ÿå¤§æ¢¦æƒ³ï¼</strong><br><strong>æ¬¢è¿äº¤æµ~</strong></p><figure><img src=/img-common/weChatPublic.jpg alt=å¾®ä¿¡å…¬ä¼—å· width=600 height=286></figure><p><strong>æœ¬æ–‡ç‰ˆæƒå½’åŸä½œè€…æ›œçµæ‰€æœ‰ï¼æœªç»å…è®¸ï¼Œä¸¥ç¦è½¬è½½ï¼å¯¹éæ³•è½¬è½½è€…, åŸä½œè€…ä¿ç•™é‡‡ç”¨æ³•å¾‹æ‰‹æ®µè¿½ç©¶çš„æƒåˆ©ï¼</strong><br><strong>è‹¥éœ€è½¬è½½ï¼Œè¯·è”ç³»å¾®ä¿¡å…¬ä¼—å·ï¼šè¿å…ˆç”Ÿæœ‰çŒ«ç—…ï¼Œå¯è·å–ä½œè€…è”ç³»æ–¹å¼ï¼</strong></p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/javascript/ rel=tag>JavaScript</a></li><li class=tags__item><a class="tags__link btn" href=/tags/react%E6%8A%80%E6%9C%AF%E6%A0%88/ rel=tag>ReactæŠ€æœ¯æ ˆ</a></li><li class=tags__item><a class="tags__link btn" href=/tags/vue%E6%8A%80%E6%9C%AF%E6%A0%88/ rel=tag>VueæŠ€æœ¯æ ˆ</a></li></ul></div></footer></article></main><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="æ›œçµ avatar" src=/img-common/favicon.png class=avatar height=90 width=90></figure><div class=authorbox__header><span class=authorbox__name>å…³äº æ›œçµ</span></div><div class=authorbox__description>åšä¸»ç›®å‰å°±èŒäºXé›†å›¢ä¸Šæµ·ç ”å‘ä¸­å¿ƒ-å¹³å°å·¥å…·ç»„ï¼Œæ˜¯ä¸€åWebå¼€å‘å·¥ç¨‹å¸ˆã€‚æŠ€æœ¯é¢†åŸŸæ¶‰åŠ ReactæŠ€æœ¯æ ˆã€VueæŠ€æœ¯æ ˆã€Hybridã€å·¥ç¨‹åŒ–ï¼ŒåŠnode BFFå±‚ç­‰ç›¸å…³å†…å®¹ã€‚å·¥ä½œä¹‹ä½™ï¼Œç§¯æä¸ºç¤¾åŒºè´¡çŒ®è‡ªå·±çš„ç»µè–„ä¹‹åŠ›ï¼Œç°æœ‰è‹¥å¹²ç‹¬ç«‹çš„å¼€æºé¡¹ç›®</div></div><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/01.%E5%BD%BBjavascript%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6event-loop/ rel=prev><span class=pager__subtitle>Â«&#8201;ä¸Šä¸€ç¯‡</span><p class=pager__title>å½»åº•å¼„æ‡‚JavaScriptæ‰§è¡Œæœºåˆ¶ï¼ˆEvent Loopï¼‰</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/03.%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5url%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88-0/ rel=next><span class=pager__subtitle>ä¸‹ä¸€ç¯‡&#8201;Â»</span><p class=pager__title>æµè§ˆå™¨è¾“å…¥urlå‘ç”Ÿäº†ä»€ä¹ˆ(http)</p></a></div></nav><script src=https://utteranc.es/client.js repo=yuqingc/yuqingc.github.io issue-term=pathname label=comments theme=github-light crossorigin=anonymous async></script></div><aside class=sidebar><div class="widget-search widget"><form class=widget-search__form role=search method=get action=https://duckduckgo.com/><label><input class=widget-search__field type=search placeholder=æœç´¢â€¦ name=q aria-label=æœç´¢â€¦></label>
<input class=widget-search__submit type=submit value=Search>
<input type=hidden name=sites value=/></form></div><div class="widget-recent widget"><h4 class=widget__title>è¿‘æœŸæ–‡ç« </h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/posts/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/03.react%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/>èŠä¸‹reactä¸­ç”Ÿå‘½å‘¨æœŸ</a></li><li class=widget__item><a class=widget__link href=/posts/%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0/01.%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA%E5%8D%9A%E5%AE%A2/>GitHub Action + Hugo è‡ªåŠ¨æ„å»ºå‘å¸ƒä¸ªäººåšå®¢</a></li><li class=widget__item><a class=widget__link href=/posts/%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0/02.%E5%9B%A2%E9%98%9F%E4%B8%ADgit%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83/>å›¢é˜Ÿä¸­gitä½¿ç”¨è§„èŒƒ</a></li><li class=widget__item><a class=widget__link href=/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/03.%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5url%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88-0/>æµè§ˆå™¨è¾“å…¥urlå‘ç”Ÿäº†ä»€ä¹ˆ(http)</a></li><li class=widget__item><a class=widget__link href=/posts/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/02.%E5%AF%B9%E6%AF%94-react-hooks-%E5%92%8C-vue-composition-api/>å¯¹æ¯” React Hooks å’Œ Vue Composition API</a></li><li class=widget__item><a class=widget__link href=/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/01.%E5%BD%BBjavascript%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6event-loop/>å½»åº•å¼„æ‡‚JavaScriptæ‰§è¡Œæœºåˆ¶ï¼ˆEvent Loopï¼‰</a></li></ul></div></div><div class="widget-categories widget"><h4 class=widget__title>åˆ†ç±»</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/categories/server/>Server</a></li><li class=widget__item><a class=widget__link href=/categories/%E5%85%B6%E4%BB%96/>å…¶ä»–</a></li><li class=widget__item><a class=widget__link href=/categories/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/>å‰ç«¯åŸºç¡€</a></li><li class=widget__item><a class=widget__link href=/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/>å‰ç«¯æ¡†æ¶</a></li><li class=widget__item><a class=widget__link href=/categories/%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0/>å¼€å‘æ—¥è®°</a></li><li class=widget__item><a class=widget__link href=/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/>è®¡ç®—æœºåŸç†</a></li></ul></div></div><div class="widget-taglist widget"><h4 class=widget__title>æ ‡ç­¾</h4><div class=widget__content><a class="widget-taglist__link widget__link btn" href=/tags/bridge/ title=Bridge>Bridge (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/css/ title=CSS>CSS (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/git/ title=Git>Git (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/github-action/ title="GitHub Action">GitHub Action (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/http/ title=http>http (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/hugo/ title=Hugo>Hugo (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/immutable/ title=immutable>immutable (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/java/ title=Java>Java (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/javascript/ title=JavaScript>JavaScript (7)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/native/ title=Native>Native (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/nginx/ title=nginx>nginx (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/node/ title=Node>Node (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/npm/ title=npm>npm (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/profile/ title=profile>profile (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/react%E6%8A%80%E6%9C%AF%E6%A0%88/ title=ReactæŠ€æœ¯æ ˆ>ReactæŠ€æœ¯æ ˆ (4)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/vue%E6%8A%80%E6%9C%AF%E6%A0%88/ title=VueæŠ€æœ¯æ ˆ>VueæŠ€æœ¯æ ˆ (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E5%9B%A2%E9%98%9F%E8%A7%84%E8%8C%83/ title=å›¢é˜Ÿè§„èŒƒ>å›¢é˜Ÿè§„èŒƒ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/ title=æµè§ˆå™¨>æµè§ˆå™¨ (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/ title=ç”Ÿå‘½å‘¨æœŸ>ç”Ÿå‘½å‘¨æœŸ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E7%AE%97%E6%B3%95/ title=ç®—æ³•>ç®—æ³• (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E7%BC%93%E5%AD%98/ title=ç¼“å­˜>ç¼“å­˜ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/ title=ç½‘ç»œåŸç†>ç½‘ç»œåŸç† (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E8%84%9A%E6%89%8B%E6%9E%B6/ title=è„šæ‰‹æ¶>è„šæ‰‹æ¶ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/ title=è‡ªåŠ¨åŒ–>è‡ªåŠ¨åŒ– (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/ title=è®¾è®¡æ¨¡å¼>è®¾è®¡æ¨¡å¼ (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E8%AE%BE%E8%AE%A1%E6%B3%9B%E5%9E%8B/ title=è®¾è®¡æ³›å‹>è®¾è®¡æ³›å‹ (1)</a></div></div><div class="widget-social widget"><h4 class="widget-social__title widget__title">ç¤¾äº¤</h4><div class="widget-social__content widget__content"><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=GitHub rel="noopener noreferrer" href=https://github.com/lianpf target=_blank><svg class="widget-social__link-icon icon icon-github" width="24" height="24" viewBox="0 0 384 374"><path d="m192 0C85.9.0.0 85.8.0 191.7c0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2.0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8.0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7.0.0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4.0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5.0 25.6-.2 46.3-.2 52.6.0 5.1 3.5 11.1 13.2 9.2 76.2-25.5 131.2-97.3 131.2-182 0-105.9-86-191.7-192-191.7z"/></svg><span>GitHub</span></a></div><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=Email href=mailto:wanderlian@foxmail.com><svg class="widget-social__link-icon icon icon-mail" width="24" height="24" viewBox="0 0 416 288"><path d="m0 16v256 16h16 384 16v-16V16 0h-16H16 0zm347 16-139 92.5L69 32zM199 157.5l9 5.5 9-5.5L384 46v210H32V46z"/></svg><span>wanderlian@foxmail.com</span></a></div><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=å¾®ä¿¡å…¬ä¼—å·ï¼šè¿å…ˆç”Ÿæœ‰çŒ«ç—… rel="noopener noreferrer" href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzAwNDk2OTI1Mg==&scene=124#wechat_redirect" target=_blank><svg t="1613746391336" class="widget-social__link-icon icon" width="24" height="24" viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" p-id="1661" width="200" height="200"><path d="M697.6 275.2C620.8 179.2 499.2 121.6 371.2 128 166.4 128 0 256 0 422.4c0 83.2 44.8 160 115.2 211.2l-57.6 172.8L262.4 704c38.4 6.4 76.8 12.8 115.2 12.8h51.2c-32-38.4-44.8-89.6-51.2-140.8-6.4-160 134.4-281.6 320-300.8zM448 275.2c0-19.2 12.8-32 32-32h25.6c19.2.0 32 12.8 32 32v25.6c0 19.2-12.8 32-32 32H480c-19.2.0-32-12.8-32-32v-25.6zM281.6 288c0 19.2-12.8 32-32 32h-25.6c-19.2.0-32-12.8-32-32v-25.6c0-19.2 12.8-32 32-32h25.6c19.2.0 32 12.8 32 32V288z" fill="#e6e6e6" p-id="1662"/><path d="M1024 556.8c0-121.6-128-224-288-224S448 435.2 448 556.8c0 128 128 224 288 224 38.4.0 76.8-6.4 115.2-19.2l179.2 83.2-64-160c32-25.6 57.6-76.8 57.6-128zm-390.4-51.2c0 19.2-12.8 32-32 32H576c-19.2.0-32-12.8-32-32v-25.6c0-19.2 12.8-32 32-32h25.6c19.2.0 32 12.8 32 32v25.6zm268.8.0c0 19.2-12.8 32-32 32h-25.6c-19.2.0-32-12.8-32-32v-25.6c0-19.2 19.2-32 32-32h25.6c19.2.0 32 12.8 32 32v25.6z" fill="#e6e6e6" p-id="1663"/></svg><span>å¾®ä¿¡å…¬ä¼—å·ï¼šè¿å…ˆç”Ÿæœ‰çŒ«ç—…</span></a></div><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=çŸ¥ä¹ rel="noopener noreferrer" href=https://www.zhihu.com/people/liu-lang-zhe-51-90/posts target=_blank><svg t="1613712910226" class="widget-social__link-icon icon" width="24" height="24" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="8513" width="200" height="200"><path d="M544.949 561.422s0-71.387-34.779-75.05-142.775.0-142.775.0V266.718h161.078s-1.83-73.219-32.949-73.219h-261.755l43.93-117.148s-65.897 3.663-89.692 45.761-98.844 252.604-98.844 252.604 25.627 10.983 67.726-20.134c42.101-31.116 56.743-86.033 56.743-86.033l76.879-3.663 1.83 223.316s-133.621-1.83-161.078.0-42.101 75.05-42.101 75.05h203.182s-18.307 124.47-69.557 214.164c-53.085 89.692-151.929 161.078-151.929 161.078s71.387 29.287 140.947-10.983c69.557-42.101 120.811-223.316 120.811-223.316l162.912 203.182s14.643-97.013-1.83-124.47c-18.307-27.457-113.49-137.283-113.49-137.283l-42.101 36.607 29.287-120.811h177.552zM587.05 188.01l-1.83 660.793h65.897l23.795 82.37 115.321-82.37h162.912V188.01H587.054zM879.92 775.584h-76.879l-97.013 75.05-21.965-75.05h-20.134v-512.527h215.991v512.527z" p-id="8514"/></svg><span>çŸ¥ä¹</span></a></div><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=æ˜é‡‘ rel="noopener noreferrer" href=https://juejin.im/user/536217402748600/posts target=_blank><svg t="1613746642304" class="widget-social__link-icon icon" width="24" height="24" viewBox="0 0 1152 1024" xmlns="http://www.w3.org/2000/svg" p-id="1969" width="200" height="200"><path d="M1066.616 644.741 948.792 526.917c-8.237-8.237-21.593-8.237-29.832.0L801.136 644.74c-13.29 13.29-3.878 36.009 14.915 36.009h77.814c-34.643 114.83-162.678 183.366-283.428 194.88V441.688h105.47c11.648.0 21.093-9.445 21.093-21.094v-42.188c0-11.649-9.445-21.094-21.094-21.094H610.438v-20.51c57.051-17.92 98.437-71.212 98.437-134.177C708.875 124.96 645.915 62 568.25 62s-140.625 62.96-140.625 140.625c0 62.965 41.386 116.258 98.438 134.177v20.51h-105.47c-11.648.0-21.093 9.445-21.093 21.094v42.188c0 11.649 9.445 21.094 21.094 21.094h105.469V875.63c-120.952-11.533-248.865-80.313-283.427-194.88h77.815c18.793.0 28.204-22.721 14.915-36.009L217.542 526.917c-8.237-8.237-21.593-8.237-29.832.0L69.884 644.74C56.596 658.03 66.008 680.75 84.8 680.75h70.811C191.475 855.75 380.582 962 568.25 962c198.87.0 378.524-114.785 412.638-281.25h70.811c18.793.0 28.205-22.721 14.917-36.009zM568.25 146.375c31.017.0 56.25 25.233 56.25 56.25s-25.233 56.25-56.25 56.25S512 233.642 512 202.625s25.233-56.25 56.25-56.25z" p-id="1970" fill="#e6e6e6"/></svg><span>æ˜é‡‘</span></a></div></div></div></aside></div></div><script async defer src=/js/menu.js></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script><script src=/js/highlight/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>